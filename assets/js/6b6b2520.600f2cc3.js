"use strict";(globalThis.webpackChunkui_bridge_docs=globalThis.webpackChunkui_bridge_docs||[]).push([[2374],{5317(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"react/auto-registration","title":"Auto-Registration","description":"Auto-registration enables automatic discovery and registration of interactive UI elements without requiring manual useUIElement() calls on every component. This provides comprehensive UI Bridge coverage with minimal setup.","source":"@site/docs/react/auto-registration.md","sourceDirName":"react","slug":"/react/auto-registration","permalink":"/ui-bridge/docs/react/auto-registration","draft":false,"unlisted":false,"editUrl":"https://github.com/qontinui/ui-bridge/tree/main/docs-site/docs/react/auto-registration.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"React Components","permalink":"/ui-bridge/docs/react/components"},"next":{"title":"Render Logging","permalink":"/ui-bridge/docs/react/render-logging"}}');var r=t(4848),s=t(8453);const d={sidebar_position:4},l="Auto-Registration",c={},o=[{value:"Overview",id:"overview",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Web / Next.js",id:"web--nextjs",level:3},{value:"Tauri Desktop",id:"tauri-desktop",level:3},{value:"React Native / Expo",id:"react-native--expo",level:3},{value:"Configuration",id:"configuration",level:2},{value:"AutoRegisterProvider Props",id:"autoregisterprovider-props",level:3},{value:"ID Strategies",id:"id-strategies",level:3},{value:"ID Priority (prefer-existing)",id:"id-priority-prefer-existing",level:3},{value:"Interactive Elements",id:"interactive-elements",level:2},{value:"Adding Custom Selectors",id:"adding-custom-selectors",level:3},{value:"Excluding Elements",id:"excluding-elements",level:2},{value:"Via Selector",id:"via-selector",level:3},{value:"Via Attribute",id:"via-attribute",level:3},{value:"Scoped Registration",id:"scoped-registration",level:2},{value:"Custom ID Generator",id:"custom-id-generator",level:2},{value:"Callbacks",id:"callbacks",level:2},{value:"useAutoRegister Hook",id:"useautoregister-hook",level:2},{value:"Combining with Manual Registration",id:"combining-with-manual-registration",level:2},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Element Not Being Registered",id:"element-not-being-registered",level:3},{value:"Duplicate IDs",id:"duplicate-ids",level:3},{value:"Too Many Elements Registered",id:"too-many-elements-registered",level:3},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"auto-registration",children:"Auto-Registration"})}),"\n",(0,r.jsxs)(n.p,{children:["Auto-registration enables automatic discovery and registration of interactive UI elements without requiring manual ",(0,r.jsx)(n.code,{children:"useUIElement()"})," calls on every component. This provides comprehensive UI Bridge coverage with minimal setup."]}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"By default, UI Bridge requires you to manually register each interactive element:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"// Manual registration (still supported)\nfunction MyButton() {\n  const { ref } = useUIElement({\n    id: 'my-button',\n    type: 'button',\n  });\n  return <button ref={ref}>Click me</button>;\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"With auto-registration, interactive elements are automatically discovered and registered:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:'// Automatic - no manual registration needed!\nfunction MyButton() {\n  return <button data-testid="my-button">Click me</button>;\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  AutoRegisterProvider                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  1. Initial Scan                                        \u2502\n\u2502     \u2192 Finds all interactive elements                    \u2502\n\u2502     \u2192 Auto-generates IDs from attributes                \u2502\n\u2502     \u2192 Registers with UI Bridge registry                 \u2502\n\u2502                                                         \u2502\n\u2502  2. MutationObserver                                    \u2502\n\u2502     \u2192 Watches for DOM changes                           \u2502\n\u2502     \u2192 Auto-registers new elements                       \u2502\n\u2502     \u2192 Unregisters removed elements                      \u2502\n\u2502     \u2192 Debounced for performance                         \u2502\n\u2502                                                         \u2502\n\u2502  3. ID Generation (priority order)                      \u2502\n\u2502     data-ui-id \u2192 data-testid \u2192 id \u2192 semantic \u2192 auto    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,r.jsx)(n.h3,{id:"web--nextjs",children:"Web / Next.js"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"// app/layout.tsx or _app.tsx\nimport { UIBridgeProvider, AutoRegisterProvider } from 'ui-bridge/react';\n\nexport default function RootLayout({ children }) {\n  return (\n    <UIBridgeProvider features={{ control: true }}>\n      <AutoRegisterProvider enabled={process.env.NODE_ENV === 'development'}>\n        {children}\n      </AutoRegisterProvider>\n    </UIBridgeProvider>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"tauri-desktop",children:"Tauri Desktop"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"// App.tsx\nimport { UIBridgeProvider, AutoRegisterProvider } from 'ui-bridge';\n\nfunction App() {\n  return (\n    <UIBridgeProvider features={{ control: true }}>\n      <AutoRegisterProvider enabled={import.meta.env.DEV}>\n        <YourApp />\n      </AutoRegisterProvider>\n    </UIBridgeProvider>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"react-native--expo",children:"React Native / Expo"}),"\n",(0,r.jsxs)(n.p,{children:["React Native doesn't have a DOM, so auto-registration works differently. See ",(0,r.jsx)(n.a,{href:"../guides/mobile",children:"Mobile Guide"})," for details."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"// app/_layout.tsx\nimport { UIBridgeNativeProvider, useAutoRegister } from 'ui-bridge-native';\n\nfunction AppContent() {\n  // Enable auto-registration infrastructure\n  useAutoRegister({ enabled: __DEV__ });\n\n  return <YourApp />;\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"autoregisterprovider-props",children:"AutoRegisterProvider Props"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Prop"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"enabled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"true"})," in dev"]}),(0,r.jsx)(n.td,{children:"Enable auto-registration"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"idStrategy"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"IdStrategy"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"'prefer-existing'"})}),(0,r.jsx)(n.td,{children:"How to generate element IDs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"debounceMs"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"number"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"100"})}),(0,r.jsx)(n.td,{children:"Debounce time for DOM mutations"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"includeHidden"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})}),(0,r.jsx)(n.td,{children:"Include hidden elements"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"includeSelectors"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string[]"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"[]"})}),(0,r.jsx)(n.td,{children:"Additional selectors to include"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"excludeSelectors"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string[]"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"[]"})}),(0,r.jsx)(n.td,{children:"Selectors to exclude"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"scopeToChildren"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"false"})}),(0,r.jsx)(n.td,{children:"Only observe within provider's subtree"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"generateId"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"function"})}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Custom ID generator"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"onRegister"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"function"})}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Callback when element registered"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"onUnregister"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"function"})}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Callback when element unregistered"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"id-strategies",children:"ID Strategies"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:'<AutoRegisterProvider idStrategy="prefer-existing">\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Strategy"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Example Output"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"'prefer-existing'"})}),(0,r.jsx)(n.td,{children:"Use existing attributes, fall back to semantic"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"submit-btn"})," (from data-testid)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"'data-testid'"})}),(0,r.jsx)(n.td,{children:"Only use data-testid"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"submit-btn"})," or auto-generated"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"'data-ui-id'"})}),(0,r.jsx)(n.td,{children:"Only use data-ui-id"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"my-button"})," or auto-generated"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"'semantic'"})}),(0,r.jsx)(n.td,{children:"Generate from element content"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"button-submit-form"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"'auto'"})}),(0,r.jsx)(n.td,{children:"Always auto-generate"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"button-1705123456-abc123"})})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"id-priority-prefer-existing",children:"ID Priority (prefer-existing)"}),"\n",(0,r.jsxs)(n.p,{children:["When using ",(0,r.jsx)(n.code,{children:"prefer-existing"})," strategy, IDs are generated in this order:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"data-ui-id"})," attribute"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"data-testid"})," attribute"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"id"})," attribute"]}),"\n",(0,r.jsx)(n.li,{children:"Semantic (based on label/content)"}),"\n",(0,r.jsx)(n.li,{children:"Auto-generated"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'\x3c!-- Uses "my-button" --\x3e\n<button data-ui-id="my-button">Submit</button>\n\n\x3c!-- Uses "submit-btn" --\x3e\n<button data-testid="submit-btn">Submit</button>\n\n\x3c!-- Uses "form-submit" --\x3e\n<button id="form-submit">Submit</button>\n\n\x3c!-- Uses "button-submit-form" (semantic) --\x3e\n<button>Submit Form</button>\n'})}),"\n",(0,r.jsx)(n.h2,{id:"interactive-elements",children:"Interactive Elements"}),"\n",(0,r.jsx)(n.p,{children:"Auto-registration detects these elements by default:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Element"}),(0,r.jsx)(n.th,{children:"Selector"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Links"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"a[href]"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Buttons"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"button"}),", ",(0,r.jsx)(n.code,{children:'[role="button"]'})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Inputs"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"input"}),", ",(0,r.jsx)(n.code,{children:"textarea"}),", ",(0,r.jsx)(n.code,{children:'[role="textbox"]'})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Selects"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"select"}),", ",(0,r.jsx)(n.code,{children:'[role="combobox"]'}),", ",(0,r.jsx)(n.code,{children:'[role="listbox"]'})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Checkboxes"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:'input[type="checkbox"]'}),", ",(0,r.jsx)(n.code,{children:'[role="checkbox"]'})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Radio buttons"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:'input[type="radio"]'}),", ",(0,r.jsx)(n.code,{children:'[role="radio"]'})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Tabs"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'[role="tab"]'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Menu items"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'[role="menuitem"]'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Sliders"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:'input[type="range"]'}),", ",(0,r.jsx)(n.code,{children:'[role="slider"]'})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Switches"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'[role="switch"]'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Focusable"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'[tabindex]:not([tabindex="-1"])'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Editable"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:'[contenteditable="true"]'})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Explicit"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"[data-ui-element]"}),", ",(0,r.jsx)(n.code,{children:"[data-testid]"})]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"adding-custom-selectors",children:"Adding Custom Selectors"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"<AutoRegisterProvider\n  includeSelectors={[\n    '.custom-interactive',\n    '[data-action]',\n  ]}\n>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"excluding-elements",children:"Excluding Elements"}),"\n",(0,r.jsx)(n.h3,{id:"via-selector",children:"Via Selector"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"<AutoRegisterProvider\n  excludeSelectors={[\n    '[data-no-register]',\n    '.internal-button',\n    '#skip-element',\n  ]}\n>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"via-attribute",children:"Via Attribute"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:"\x3c!-- This element won't be registered --\x3e\n<button data-no-register>Internal Action</button>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"scoped-registration",children:"Scoped Registration"}),"\n",(0,r.jsx)(n.p,{children:"Register only elements within a specific subtree:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"function Dashboard() {\n  return (\n    <>\n      {/* Only elements inside here are auto-registered */}\n      <AutoRegisterProvider scopeToChildren>\n        <DashboardContent />\n      </AutoRegisterProvider>\n\n      {/* These elements are NOT auto-registered */}\n      <Sidebar />\n    </>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"custom-id-generator",children:"Custom ID Generator"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"<AutoRegisterProvider\n  generateId={(element) => {\n    const testId = element.getAttribute('data-testid');\n    if (testId) return `test-${testId}`;\n\n    const label = element.textContent?.trim().slice(0, 20);\n    if (label) return `el-${label.toLowerCase().replace(/\\s+/g, '-')}`;\n\n    return `auto-${Date.now()}`;\n  }}\n>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"callbacks",children:"Callbacks"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"<AutoRegisterProvider\n  onRegister={(id, element) => {\n    console.log(`Registered: ${id}`, element);\n  }}\n  onUnregister={(id) => {\n    console.log(`Unregistered: ${id}`);\n  }}\n>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"useautoregister-hook",children:"useAutoRegister Hook"}),"\n",(0,r.jsx)(n.p,{children:"For more control, use the hook directly:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"import { useAutoRegister } from 'ui-bridge/react';\n\nfunction MyComponent() {\n  useAutoRegister({\n    enabled: true,\n    root: document.getElementById('my-container'),\n    idStrategy: 'semantic',\n    debounceMs: 200,\n    onRegister: (id) => console.log('Registered:', id),\n  });\n\n  return <div id=\"my-container\">...</div>;\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"combining-with-manual-registration",children:"Combining with Manual Registration"}),"\n",(0,r.jsx)(n.p,{children:"Auto-registration respects manually registered elements:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"function MyForm() {\n  // Manual registration with custom actions\n  const { ref } = useUIElement({\n    id: 'special-button',\n    type: 'button',\n    customActions: {\n      'validate-and-submit': {\n        handler: async () => {\n          await validate();\n          await submit();\n        },\n      },\n    },\n  });\n\n  return (\n    <form>\n      {/* Manually registered with custom action */}\n      <button ref={ref}>Submit</button>\n\n      {/* Auto-registered (no custom actions needed) */}\n      <button data-testid=\"cancel-btn\">Cancel</button>\n    </form>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Debouncing"}),": DOM mutations are debounced (default 100ms) to prevent excessive registration during rapid updates"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Development Only"}),": Enable only in development to avoid production overhead:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-tsx",children:"<AutoRegisterProvider enabled={process.env.NODE_ENV === 'development'}>\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Scoping"}),": Use ",(0,r.jsx)(n.code,{children:"scopeToChildren"})," for large apps to limit observation scope"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Visibility Check"}),": Hidden elements are skipped by default (use ",(0,r.jsx)(n.code,{children:"includeHidden"})," to change)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"element-not-being-registered",children:"Element Not Being Registered"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Check if element matches interactive selectors"}),"\n",(0,r.jsxs)(n.li,{children:["Verify element is visible (not ",(0,r.jsx)(n.code,{children:"display: none"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Check exclude selectors aren't matching"}),"\n",(0,r.jsxs)(n.li,{children:["Add ",(0,r.jsx)(n.code,{children:"data-ui-element"})," attribute to force registration"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"duplicate-ids",children:"Duplicate IDs"}),"\n",(0,r.jsx)(n.p,{children:"If two elements generate the same ID, a unique suffix is added:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"submit-btn \u2192 submit-btn\nsubmit-btn \u2192 submit-btn-1705123456abc\n"})}),"\n",(0,r.jsx)(n.h3,{id:"too-many-elements-registered",children:"Too Many Elements Registered"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"excludeSelectors"})," to filter unwanted elements"]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.code,{children:"scopeToChildren"})," to limit scope"]}),"\n",(0,r.jsxs)(n.li,{children:["Mark internal elements with ",(0,r.jsx)(n.code,{children:"data-no-register"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"./render-logging",children:"Render Logging"})," - Capture UI state automatically"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"../concepts/actions",children:"Element Control"})," - Learn about element actions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"../guides/web",children:"Platform Guides"})," - Platform-specific setup"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,n,t){t.d(n,{R:()=>d,x:()=>l});var i=t(6540);const r={},s=i.createContext(r);function d(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);