"use strict";(globalThis.webpackChunkui_bridge_docs=globalThis.webpackChunkui_bridge_docs||[]).push([[6857],{4247(e,n,t){t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"concepts/workflows","title":"Workflows","description":"Workflows are pre-defined sequences of actions that can be executed as a unit. They\'re useful for automating complex multi-step processes.","source":"@site/docs/concepts/workflows.md","sourceDirName":"concepts","slug":"/concepts/workflows","permalink":"/ui-bridge/docs/concepts/workflows","draft":false,"unlisted":false,"editUrl":"https://github.com/qontinui/ui-bridge/tree/main/docs-site/docs/concepts/workflows.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Actions","permalink":"/ui-bridge/docs/concepts/actions"},"next":{"title":"UIBridgeProvider","permalink":"/ui-bridge/docs/react/provider"}}');var i=t(4848),s=t(8453);const o={sidebar_position:4},l="Workflows",a={},c=[{value:"Defining Workflows",id:"defining-workflows",level:2},{value:"In React",id:"in-react",level:3},{value:"Workflow Structure",id:"workflow-structure",level:2},{value:"Step Types",id:"step-types",level:2},{value:"Action Steps",id:"action-steps",level:3},{value:"Wait Steps",id:"wait-steps",level:3},{value:"Component Action Steps",id:"component-action-steps",level:3},{value:"Running Workflows",id:"running-workflows",level:2},{value:"From Python",id:"from-python",level:3},{value:"Using Workflow Control",id:"using-workflow-control",level:3},{value:"With Step Control",id:"with-step-control",level:3},{value:"Variables",id:"variables",level:2},{value:"Default Variables",id:"default-variables",level:3},{value:"Workflow Results",id:"workflow-results",level:2},{value:"Error Handling",id:"error-handling",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Use Descriptive Step IDs",id:"1-use-descriptive-step-ids",level:3},{value:"2. Add Timeouts",id:"2-add-timeouts",level:3},{value:"3. Handle Dynamic Content",id:"3-handle-dynamic-content",level:3},{value:"4. Keep Workflows Focused",id:"4-keep-workflows-focused",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"workflows",children:"Workflows"})}),"\n",(0,i.jsx)(n.p,{children:"Workflows are pre-defined sequences of actions that can be executed as a unit. They're useful for automating complex multi-step processes."}),"\n",(0,i.jsx)(n.h2,{id:"defining-workflows",children:"Defining Workflows"}),"\n",(0,i.jsx)(n.h3,{id:"in-react",children:"In React"}),"\n",(0,i.jsx)(n.p,{children:"Register workflows using the registry:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import { useEffect } from 'react';\nimport { getGlobalRegistry } from 'ui-bridge';\n\nfunction App() {\n  useEffect(() => {\n    const registry = getGlobalRegistry();\n\n    registry.registerWorkflow({\n      id: 'login-workflow',\n      name: 'User Login',\n      description: 'Complete user login process',\n      steps: [\n        {\n          id: 'enter-email',\n          type: 'action',\n          target: 'login-email',\n          action: 'type',\n          params: { text: '{{email}}' },\n        },\n        {\n          id: 'enter-password',\n          type: 'action',\n          target: 'login-password',\n          action: 'type',\n          params: { text: '{{password}}' },\n        },\n        {\n          id: 'submit',\n          type: 'action',\n          target: 'login-submit',\n          action: 'click',\n        },\n      ],\n    });\n  }, []);\n\n  return <LoginForm />;\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"workflow-structure",children:"Workflow Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"interface Workflow {\n  id: string;              // Unique identifier\n  name: string;            // Display name\n  description?: string;    // Optional description\n  steps: WorkflowStep[];   // Array of steps\n  variables?: Record<string, any>;  // Default variable values\n}\n\ninterface WorkflowStep {\n  id: string;              // Step identifier\n  type: 'action' | 'wait' | 'condition' | 'component';\n  target?: string;         // Element or component ID\n  action?: string;         // Action to perform\n  params?: Record<string, any>;  // Action parameters\n  waitFor?: string;        // Wait condition\n  condition?: string;      // Conditional expression\n  timeout?: number;        // Step timeout (ms)\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"step-types",children:"Step Types"}),"\n",(0,i.jsx)(n.h3,{id:"action-steps",children:"Action Steps"}),"\n",(0,i.jsx)(n.p,{children:"Execute an action on an element:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"{\n  id: 'click-button',\n  type: 'action',\n  target: 'submit-btn',\n  action: 'click',\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"With parameters:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"{\n  id: 'type-email',\n  type: 'action',\n  target: 'email-input',\n  action: 'type',\n  params: { text: 'user@example.com' },\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"wait-steps",children:"Wait Steps"}),"\n",(0,i.jsx)(n.p,{children:"Wait for a condition:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"{\n  id: 'wait-for-modal',\n  type: 'wait',\n  target: 'success-modal',\n  waitFor: 'visible',\n  timeout: 5000,\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"component-action-steps",children:"Component Action Steps"}),"\n",(0,i.jsx)(n.p,{children:"Execute a component action:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"{\n  id: 'submit-form',\n  type: 'component',\n  target: 'checkout-form',\n  action: 'submit',\n  params: { paymentMethod: 'credit-card' },\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"running-workflows",children:"Running Workflows"}),"\n",(0,i.jsx)(n.h3,{id:"from-python",children:"From Python"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from ui_bridge import UIBridgeClient\n\nclient = UIBridgeClient()\n\n# Run with variables\nresult = client.run_workflow(\n    workflow_id='login-workflow',\n    params={\n        'email': 'user@example.com',\n        'password': 'secret123',\n    }\n)\n\nprint(f\"Success: {result.success}\")\nprint(f\"Steps completed: {result.steps_completed}/{result.total_steps}\")\nprint(f\"Duration: {result.duration_ms}ms\")\n"})}),"\n",(0,i.jsx)(n.h3,{id:"using-workflow-control",children:"Using Workflow Control"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Get a workflow interface\nworkflow = client.workflow('login-workflow')\n\n# Run it\nresult = workflow.run({\n    'email': 'user@example.com',\n    'password': 'secret123',\n})\n"})}),"\n",(0,i.jsx)(n.h3,{id:"with-step-control",children:"With Step Control"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Start from a specific step\nresult = client.run_workflow(\n    'checkout-workflow',\n    start_step='enter-payment',\n    stop_step='review-order',\n)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"variables",children:"Variables"}),"\n",(0,i.jsxs)(n.p,{children:["Use variables in workflow steps with ",(0,i.jsx)(n.code,{children:"{{variable}}"})," syntax:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"{\n  steps: [\n    {\n      id: 'type-search',\n      type: 'action',\n      target: 'search-input',\n      action: 'type',\n      params: { text: '{{searchTerm}}' },\n    },\n  ],\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Pass values when running:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"result = client.run_workflow('search-workflow', params={\n    'searchTerm': 'ui bridge documentation'\n})\n"})}),"\n",(0,i.jsx)(n.h3,{id:"default-variables",children:"Default Variables"}),"\n",(0,i.jsx)(n.p,{children:"Define defaults in the workflow:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"{\n  id: 'greet-workflow',\n  name: 'Greeting',\n  variables: {\n    greeting: 'Hello',\n    name: 'World',\n  },\n  steps: [\n    {\n      id: 'type-greeting',\n      type: 'action',\n      target: 'message-input',\n      action: 'type',\n      params: { text: '{{greeting}}, {{name}}!' },\n    },\n  ],\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"workflow-results",children:"Workflow Results"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"result = client.run_workflow('checkout-workflow')\n\n# Overall result\nprint(result.workflow_id)     # 'checkout-workflow'\nprint(result.success)         # True/False\nprint(result.steps_completed) # Number of completed steps\nprint(result.total_steps)     # Total steps\nprint(result.duration_ms)     # Total duration\n\n# Error info (if failed)\nprint(result.error)           # Error message\nprint(result.failed_step)     # Step ID that failed\n"})}),"\n",(0,i.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'try:\n    result = client.run_workflow(\'risky-workflow\')\n    if not result.success:\n        print(f"Workflow failed at step: {result.failed_step}")\n        print(f"Error: {result.error}")\nexcept Exception as e:\n    print(f"Workflow execution error: {e}")\n'})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"1-use-descriptive-step-ids",children:"1. Use Descriptive Step IDs"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Good\n{ id: 'enter-shipping-address', ... }\n{ id: 'select-payment-method', ... }\n\n// Avoid\n{ id: 'step1', ... }\n{ id: 's2', ... }\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-add-timeouts",children:"2. Add Timeouts"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"{\n  id: 'wait-for-confirmation',\n  type: 'wait',\n  target: 'confirmation-modal',\n  waitFor: 'visible',\n  timeout: 10000,  // 10 seconds\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-handle-dynamic-content",children:"3. Handle Dynamic Content"}),"\n",(0,i.jsx)(n.p,{children:"For elements that may take time to appear:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"{\n  id: 'click-dynamic-button',\n  type: 'action',\n  target: 'async-button',\n  action: 'click',\n  waitFor: 'visible',\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-keep-workflows-focused",children:"4. Keep Workflows Focused"}),"\n",(0,i.jsx)(n.p,{children:"Create separate workflows for distinct processes rather than one large workflow."})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>o,x:()=>l});var r=t(6540);const i={},s=r.createContext(i);function o(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);