"use strict";(globalThis.webpackChunkui_bridge_docs=globalThis.webpackChunkui_bridge_docs||[]).push([[6177],{257(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"python/ai-client","title":"AI Client","description":"The AI client (client.ai) provides a natural language interface for AI agents to interact with UIs without knowing exact element IDs.","source":"@site/docs/python/ai-client.md","sourceDirName":"python","slug":"/python/ai-client","permalink":"/ui-bridge/docs/python/ai-client","draft":false,"unlisted":false,"editUrl":"https://github.com/qontinui/ui-bridge/tree/main/docs-site/docs/python/ai-client.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Python Usage","permalink":"/ui-bridge/docs/python/usage"},"next":{"title":"Python Types","permalink":"/ui-bridge/docs/python/types"}}');var a=t(4848),s=t(8453);const l={sidebar_position:4},r="AI Client",c={},o=[{value:"Overview",id:"overview",level:2},{value:"Natural Language Actions",id:"natural-language-actions",level:2},{value:"Execute",id:"execute",level:3},{value:"Convenience Methods",id:"convenience-methods",level:3},{value:"Response",id:"response",level:3},{value:"Element Search",id:"element-search",level:2},{value:"Find",id:"find",level:3},{value:"Search",id:"search",level:3},{value:"Find by Role",id:"find-by-role",level:3},{value:"Assertions",id:"assertions",level:2},{value:"Basic Assertions",id:"basic-assertions",level:3},{value:"Convenience Methods",id:"convenience-methods-1",level:3},{value:"With Timeout",id:"with-timeout",level:3},{value:"Batch Assertions",id:"batch-assertions",level:3},{value:"Verify Page State",id:"verify-page-state",level:3},{value:"Semantic Snapshots",id:"semantic-snapshots",level:2},{value:"Get Snapshot",id:"get-snapshot",level:3},{value:"Track Changes",id:"track-changes",level:3},{value:"Plain Text Summary",id:"plain-text-summary",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Complete Example",id:"complete-example",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"ai-client",children:"AI Client"})}),"\n",(0,a.jsxs)(n.p,{children:["The AI client (",(0,a.jsx)(n.code,{children:"client.ai"}),") provides a natural language interface for AI agents to interact with UIs without knowing exact element IDs."]}),"\n",(0,a.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'from ui_bridge import UIBridgeClient\n\nclient = UIBridgeClient(\'http://localhost:9876\')\n\n# Natural language interaction\nclient.ai.execute("click the Submit button")\nclient.ai.assert_that("error message", "hidden")\nelement = client.ai.find("email input")\n'})}),"\n",(0,a.jsx)(n.h2,{id:"natural-language-actions",children:"Natural Language Actions"}),"\n",(0,a.jsx)(n.h3,{id:"execute",children:"Execute"}),"\n",(0,a.jsx)(n.p,{children:"Execute actions using natural language instructions:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# Click actions\nclient.ai.execute("click the Submit button")\nclient.ai.execute("click on \'Sign In\'")\n\n# Type actions\nclient.ai.execute("type \'hello@example.com\' in the email field")\nclient.ai.execute("enter \'secret123\' into the password input")\n\n# Select actions\nclient.ai.execute("select \'United States\' from the country dropdown")\nclient.ai.execute("choose \'Express Shipping\' in the delivery options")\n\n# With context for disambiguation\nclient.ai.execute(\n    "click Submit",\n    context="the login form, not the registration form"\n)\n\n# With timeout\nclient.ai.execute("click the loading button", timeout=10000)\n\n# With confidence threshold\nclient.ai.execute("click Submit", confidence_threshold=0.8)\n'})}),"\n",(0,a.jsx)(n.h3,{id:"convenience-methods",children:"Convenience Methods"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# Click by description\nclient.ai.click("Submit button")\nclient.ai.click("the blue login button")\n\n# Type into element\nclient.ai.type_text("email field", "user@example.com")\nclient.ai.type_text("search box", "product name")\n\n# Select option\nclient.ai.select_option("country dropdown", "United States")\nclient.ai.select_option("size selector", "Large")\n'})}),"\n",(0,a.jsx)(n.h3,{id:"response",children:"Response"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'result = client.ai.execute("click Submit")\n\nprint(result.success)           # True/False\nprint(result.executed_action)   # "click"\nprint(result.element_used.id)   # "ui-form-submit-button"\nprint(result.confidence)        # 0.95\nprint(result.duration_ms)       # 42.5\n\n# On failure\nif not result.success:\n    print(result.error)         # "Element not found"\n    print(result.suggestions)   # ["Did you mean \'Submit Order\'?"]\n    print(result.alternatives)  # Similar elements found\n'})}),"\n",(0,a.jsx)(n.h2,{id:"element-search",children:"Element Search"}),"\n",(0,a.jsx)(n.h3,{id:"find",children:"Find"}),"\n",(0,a.jsx)(n.p,{children:"Find the best matching element:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# By description\nelement = client.ai.find("Submit button")\nelement = client.ai.find("email input field")\nelement = client.ai.find("main navigation menu")\n\nif element:\n    print(f"ID: {element.id}")\n    print(f"Type: {element.type}")\n    print(f"Description: {element.description}")\n    print(f"Aliases: {element.aliases}")\n\n# Disable fuzzy matching for exact matches\nelement = client.ai.find("Submit", fuzzy=False)\n'})}),"\n",(0,a.jsx)(n.h3,{id:"search",children:"Search"}),"\n",(0,a.jsx)(n.p,{children:"Search with multiple criteria:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# By text\nresults = client.ai.search(text="Submit")\n\n# By partial text\nresults = client.ai.search(text_contains="Submit")\n\n# By ARIA role\nresults = client.ai.search(role="button")\n\n# By element type\nresults = client.ai.search(element_type="input")\n\n# Combined criteria\nresults = client.ai.search(\n    role="button",\n    text_contains="Submit",\n    near="email-input"  # Spatially near this element\n)\n\n# Within a container\nresults = client.ai.search(\n    role="button",\n    within="login-form"  # Only search inside this element\n)\n\n# Access results\nfor result in results:\n    print(f"Element: {result.element.id}")\n    print(f"Confidence: {result.confidence}")\n    print(f"Match reasons: {result.match_reasons}")\n'})}),"\n",(0,a.jsx)(n.h3,{id:"find-by-role",children:"Find by Role"}),"\n",(0,a.jsx)(n.p,{children:"Find elements by ARIA role:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# All buttons\nbuttons = client.ai.find_by_role("button")\n\n# Buttons with specific name\nsubmit_buttons = client.ai.find_by_role("button", name="Submit")\n\n# Other roles\ntextboxes = client.ai.find_by_role("textbox")\nlinks = client.ai.find_by_role("link")\ncheckboxes = client.ai.find_by_role("checkbox")\n'})}),"\n",(0,a.jsx)(n.h2,{id:"assertions",children:"Assertions"}),"\n",(0,a.jsx)(n.h3,{id:"basic-assertions",children:"Basic Assertions"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# Visibility\nclient.ai.assert_that("Submit button", "visible")\nclient.ai.assert_that("loading spinner", "hidden")\n\n# Enabled state\nclient.ai.assert_that("email input", "enabled")\nclient.ai.assert_that("submit button", "disabled")\n\n# Text content\nclient.ai.assert_that("welcome message", "hasText", "Hello, User!")\nclient.ai.assert_that("status", "containsText", "Success")\n\n# Input value\nclient.ai.assert_that("email input", "hasValue", "user@example.com")\n\n# Existence\nclient.ai.assert_that("error message", "exists")\nclient.ai.assert_that("modal", "notExists")\n\n# Checkbox state\nclient.ai.assert_that("terms checkbox", "checked")\nclient.ai.assert_that("newsletter", "unchecked")\n'})}),"\n",(0,a.jsx)(n.h3,{id:"convenience-methods-1",children:"Convenience Methods"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'client.ai.assert_visible("Submit button")\nclient.ai.assert_hidden("error message")\nclient.ai.assert_enabled("email input")\nclient.ai.assert_disabled("submit button")\nclient.ai.assert_has_text("title", "Welcome")\nclient.ai.assert_contains_text("body", "success")\nclient.ai.assert_has_value("input", "test")\nclient.ai.assert_exists("form")\nclient.ai.assert_not_exists("error")\nclient.ai.assert_checked("checkbox")\nclient.ai.assert_unchecked("checkbox")\n'})}),"\n",(0,a.jsx)(n.h3,{id:"with-timeout",children:"With Timeout"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# Wait for element to become visible\nresult = client.ai.assert_that("Submit button", "visible", timeout=5000)\n\n# Wait helpers\nclient.ai.wait_for_visible("confirmation dialog", timeout=10000)\nclient.ai.wait_for_hidden("loading spinner", timeout=5000)\nclient.ai.wait_for_enabled("submit button", timeout=3000)\n'})}),"\n",(0,a.jsx)(n.h3,{id:"batch-assertions",children:"Batch Assertions"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# All must pass\nresult = client.ai.assert_batch([\n    ("Submit button", "visible"),\n    ("error message", "hidden"),\n    ("email input", "enabled"),\n])\n\nprint(result.passed)         # True if all passed\nprint(result.passed_count)   # Number that passed\nprint(result.failed_count)   # Number that failed\n\n# Stop on first failure\nresult = client.ai.assert_batch(\n    [("a", "visible"), ("b", "visible"), ("c", "visible")],\n    stop_on_failure=True\n)\n\n# Any mode (at least one must pass)\nresult = client.ai.assert_batch(\n    [("option-a", "checked"), ("option-b", "checked")],\n    mode="any"\n)\n'})}),"\n",(0,a.jsx)(n.h3,{id:"verify-page-state",children:"Verify Page State"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# Returns True if all conditions pass\nready = client.ai.verify_page_state([\n    ("login form", "visible"),\n    ("email input", "enabled"),\n    ("password input", "enabled"),\n])\n\nif ready:\n    client.ai.type_text("email input", "user@example.com")\n'})}),"\n",(0,a.jsx)(n.h2,{id:"semantic-snapshots",children:"Semantic Snapshots"}),"\n",(0,a.jsx)(n.h3,{id:"get-snapshot",children:"Get Snapshot"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'snapshot = client.ai.snapshot()\n\n# Page context\nprint(snapshot.page.url)\nprint(snapshot.page.title)\nprint(snapshot.focused_element)\n\n# Summary (LLM-friendly)\nprint(snapshot.summary)\n# "Login page with email and password form, Submit button enabled"\n\n# Element counts\nprint(snapshot.element_counts)\n# {"button": 3, "input": 2, "link": 5}\n\n# All elements with AI metadata\nfor elem in snapshot.elements:\n    print(f"{elem.id}: {elem.description}")\n    print(f"  Type: {elem.semantic_type}")\n    print(f"  Aliases: {elem.aliases}")\n    print(f"  Actions: {elem.suggested_actions}")\n\n# Forms and their state\nfor form in snapshot.forms:\n    print(f"Form: {form.name}")\n    print(f"  Valid: {form.is_valid}")\n    print(f"  Dirty: {form.is_dirty}")\n    for field in form.fields:\n        print(f"  - {field.label}: {field.value}")\n        if field.error:\n            print(f"    Error: {field.error}")\n\n# Active modals\nfor modal in snapshot.active_modals:\n    print(f"Modal: {modal.title}")\n    print(f"  Type: {modal.type}")\n    print(f"  Primary action: {modal.primary_action}")\n'})}),"\n",(0,a.jsx)(n.h3,{id:"track-changes",children:"Track Changes"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'# Take first snapshot\nsnapshot1 = client.ai.snapshot()\n\n# Do something\nclient.ai.click("Submit button")\n\n# Get diff\ndiff = client.ai.diff()\n\nif diff:\n    print(diff.summary)\n    # "Submit button clicked, form submitted, success message appeared"\n\n    # Appeared elements\n    for change in diff.changes.appeared:\n        print(f"New: {change.description}")\n\n    # Disappeared elements\n    for change in diff.changes.disappeared:\n        print(f"Gone: {change.description}")\n\n    # Modified elements\n    for mod in diff.changes.modified:\n        print(f"Changed: {mod.description}")\n        print(f"  {mod.property}: {mod.from_value} -> {mod.to_value}")\n\n    # Page changes\n    if diff.page_changes:\n        if diff.page_changes.url_changed:\n            print(f"URL: {diff.page_changes.new_url}")\n        if diff.page_changes.title_changed:\n            print(f"Title: {diff.page_changes.new_title}")\n\n    # AI insights\n    print(f"Trigger: {diff.probable_trigger}")\n    print(f"Suggested actions: {diff.suggested_actions}")\n'})}),"\n",(0,a.jsx)(n.h3,{id:"plain-text-summary",children:"Plain Text Summary"}),"\n",(0,a.jsx)(n.p,{children:"For including in LLM context:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:"summary = client.ai.summary()\n# Returns: \"Login page at /login. Contains: email input (empty),\n# password input (empty), Submit button (enabled),\n# 'Forgot Password' link. No errors visible.\"\n"})}),"\n",(0,a.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'from ui_bridge import UIBridgeClient, UIBridgeError\n\nclient = UIBridgeClient()\n\nresult = client.ai.execute("click nonexistent element")\n\nif not result.success:\n    print(f"Error: {result.error}")\n    print(f"Code: {result.error_code}")\n\n    # Suggestions for recovery\n    for suggestion in result.suggestions or []:\n        print(f"Suggestion: {suggestion}")\n\n    # Alternative elements that were found\n    for alt in result.alternatives or []:\n        print(f"Alternative: {alt.element.description} ({alt.confidence})")\n'})}),"\n",(0,a.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",children:'from ui_bridge import UIBridgeClient\n\ndef checkout_flow():\n    client = UIBridgeClient(\'http://localhost:9876\')\n\n    # Verify we\'re on the right page\n    if not client.ai.verify_page_state([\n        ("product page", "visible"),\n        ("add to cart button", "enabled"),\n    ]):\n        raise Exception("Not on product page")\n\n    # Add to cart\n    client.ai.click("add to cart button")\n    client.ai.wait_for_visible("cart notification", timeout=3000)\n\n    # Go to cart\n    client.ai.click("cart icon")\n    client.ai.wait_for_visible("cart page")\n\n    # Verify cart has items\n    client.ai.assert_that("cart items", "exists")\n\n    # Proceed to checkout\n    client.ai.click("checkout button")\n\n    # Fill shipping info\n    client.ai.type_text("name input", "John Doe")\n    client.ai.type_text("address input", "123 Main St")\n    client.ai.type_text("city input", "New York")\n    client.ai.select_option("state dropdown", "New York")\n    client.ai.type_text("zip input", "10001")\n\n    # Continue to payment\n    client.ai.click("continue button")\n    client.ai.wait_for_visible("payment form")\n\n    # Fill payment (using test card)\n    client.ai.type_text("card number", "4111111111111111")\n    client.ai.type_text("expiry", "12/25")\n    client.ai.type_text("cvv", "123")\n\n    # Place order\n    client.ai.click("place order button")\n\n    # Verify success\n    client.ai.wait_for_visible("order confirmation", timeout=10000)\n    client.ai.assert_contains_text("confirmation message", "Thank you")\n\n    # Get final state\n    snapshot = client.ai.snapshot()\n    print(f"Order complete: {snapshot.summary}")\n\nif __name__ == \'__main__\':\n    checkout_flow()\n'})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>l,x:()=>r});var i=t(6540);const a={},s=i.createContext(a);function l(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);