"use strict";(globalThis.webpackChunkui_bridge_docs=globalThis.webpackChunkui_bridge_docs||[]).push([[4965],{7639(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>l,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"guides/ai-agent-testing","title":"AI Agent Testing","description":"This guide shows how AI agents can write and execute UI tests without knowing exact element IDs.","source":"@site/docs/guides/ai-agent-testing.md","sourceDirName":"guides","slug":"/guides/ai-agent-testing","permalink":"/ui-bridge/docs/guides/ai-agent-testing","draft":false,"unlisted":false,"editUrl":"https://github.com/qontinui/ui-bridge/tree/main/docs-site/docs/guides/ai-agent-testing.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"React Native / Expo Guide","permalink":"/ui-bridge/docs/guides/mobile"},"next":{"title":"Server Overview","permalink":"/ui-bridge/docs/server/overview"}}');var s=i(4848),a=i(8453);const l={sidebar_position:4},r="AI Agent Testing",c={},o=[{value:"The Problem",id:"the-problem",level:2},{value:"The Solution",id:"the-solution",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Build-Time Instrumentation",id:"build-time-instrumentation",level:3},{value:"Runtime Matching",id:"runtime-matching",level:3},{value:"Writing Tests as an AI Agent",id:"writing-tests-as-an-ai-agent",level:2},{value:"Step 1: Discover the Page",id:"step-1-discover-the-page",level:3},{value:"Step 2: Write Natural Language Test",id:"step-2-write-natural-language-test",level:3},{value:"Step 3: Handle Variations",id:"step-3-handle-variations",level:3},{value:"Test Patterns",id:"test-patterns",level:2},{value:"Page Verification",id:"page-verification",level:3},{value:"Form Submission",id:"form-submission",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Modal Interactions",id:"modal-interactions",level:3},{value:"Navigation",id:"navigation",level:3},{value:"Fuzzy Matching Examples",id:"fuzzy-matching-examples",level:2},{value:"Controlling Fuzzy Matching",id:"controlling-fuzzy-matching",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Use Descriptive Text",id:"1-use-descriptive-text",level:3},{value:"2. Verify Before Acting",id:"2-verify-before-acting",level:3},{value:"3. Use Timeouts for Dynamic Content",id:"3-use-timeouts-for-dynamic-content",level:3},{value:"4. Handle Failures Gracefully",id:"4-handle-failures-gracefully",level:3},{value:"5. Use Batch Assertions",id:"5-use-batch-assertions",level:3},{value:"Integration with Test Frameworks",id:"integration-with-test-frameworks",level:2},{value:"pytest",id:"pytest",level:3},{value:"unittest",id:"unittest",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"ai-agent-testing",children:"AI Agent Testing"})}),"\n",(0,s.jsx)(n.p,{children:"This guide shows how AI agents can write and execute UI tests without knowing exact element IDs."}),"\n",(0,s.jsx)(n.h2,{id:"the-problem",children:"The Problem"}),"\n",(0,s.jsx)(n.p,{children:"Traditional UI testing requires knowing exact element IDs or selectors:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Brittle: requires knowing exact IDs\nclient.click("btn-submit-form-v2")\nclient.type("input-email-field-123", "user@example.com")\n'})}),"\n",(0,s.jsx)(n.p,{children:"If IDs change, tests break. AI agents can't write these tests without documentation."}),"\n",(0,s.jsx)(n.h2,{id:"the-solution",children:"The Solution"}),"\n",(0,s.jsx)(n.p,{children:"UI Bridge's AI interface enables natural language interaction:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Robust: uses natural language\nclient.ai.click("Submit button")\nclient.ai.type_text("email input", "user@example.com")\n'})}),"\n",(0,s.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Babel Plugin"})," instruments JSX elements with semantic IDs and aliases at build time"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"AI Client"})," uses fuzzy matching to find elements by description"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Aliases"})," provide multiple ways to reference each element"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"build-time-instrumentation",children:"Build-Time Instrumentation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-jsx",children:'// Your code\n<button onClick={handleSubmit}>Sign In</button>\n\n// After Babel transformation\n<button\n  onClick={handleSubmit}\n  data-ui-id="ui-loginform-sign-in-button"\n  data-ui-aliases="sign in,signin,login,log in"\n  data-ui-type="button"\n>\n  Sign In\n</button>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"runtime-matching",children:"Runtime Matching"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# All of these find the same button\nclient.ai.click("Sign In")\nclient.ai.click("signin")\nclient.ai.click("login button")\nclient.ai.click("the login button")\n'})}),"\n",(0,s.jsx)(n.h2,{id:"writing-tests-as-an-ai-agent",children:"Writing Tests as an AI Agent"}),"\n",(0,s.jsx)(n.h3,{id:"step-1-discover-the-page",children:"Step 1: Discover the Page"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Get page summary\nsummary = client.ai.summary()\nprint(summary)\n# "Login page with email input, password input, and Sign In button"\n\n# Or get detailed snapshot\nsnapshot = client.ai.snapshot()\nfor elem in snapshot.elements:\n    print(f"- {elem.description}")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"step-2-write-natural-language-test",children:"Step 2: Write Natural Language Test"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'def test_login_flow():\n    client = UIBridgeClient()\n\n    # Navigate to login\n    client.ai.click("Sign In link")\n\n    # Fill form\n    client.ai.type_text("email input", "user@example.com")\n    client.ai.type_text("password input", "secret123")\n\n    # Submit\n    client.ai.click("Sign In button")\n\n    # Verify\n    client.ai.assert_visible("welcome message")\n    client.ai.assert_hidden("login form")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"step-3-handle-variations",children:"Step 3: Handle Variations"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'def test_login_with_recovery():\n    client = UIBridgeClient()\n\n    # Try to click login - might be "Sign In" or "Log In"\n    result = client.ai.execute("click login button")\n\n    if not result.success:\n        # Check suggestions\n        print(f"Suggestions: {result.suggestions}")\n        # Maybe try alternative\n        client.ai.click(result.suggestions[0])\n\n    # Continue with test\n    client.ai.type_text("email", "user@example.com")\n'})}),"\n",(0,s.jsx)(n.h2,{id:"test-patterns",children:"Test Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"page-verification",children:"Page Verification"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'def verify_login_page():\n    """Verify all expected elements are present."""\n    return client.ai.verify_page_state([\n        ("email input", "visible"),\n        ("password input", "visible"),\n        ("sign in button", "enabled"),\n        ("forgot password link", "visible"),\n    ])\n'})}),"\n",(0,s.jsx)(n.h3,{id:"form-submission",children:"Form Submission"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'def test_form_submission():\n    # Fill form\n    client.ai.type_text("name field", "John Doe")\n    client.ai.type_text("email field", "john@example.com")\n    client.ai.select_option("country", "United States")\n    client.ai.check("terms checkbox")\n\n    # Submit\n    client.ai.click("submit button")\n\n    # Verify\n    client.ai.wait_for_visible("success message", timeout=5000)\n    client.ai.assert_contains_text("success message", "submitted")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'def test_validation_errors():\n    # Submit empty form\n    client.ai.click("submit button")\n\n    # Check for errors\n    client.ai.assert_visible("email error")\n    client.ai.assert_contains_text("email error", "required")\n\n    # Fix and retry\n    client.ai.type_text("email input", "valid@example.com")\n    client.ai.click("submit button")\n\n    # Verify error cleared\n    client.ai.assert_hidden("email error")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"modal-interactions",children:"Modal Interactions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'def test_modal_flow():\n    # Open modal\n    client.ai.click("open settings button")\n    client.ai.wait_for_visible("settings modal")\n\n    # Interact with modal\n    client.ai.type_text("username input", "newusername")\n    client.ai.click("save button")\n\n    # Verify modal closed\n    client.ai.wait_for_hidden("settings modal")\n    client.ai.assert_visible("settings saved notification")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"navigation",children:"Navigation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'def test_navigation():\n    # Click nav items\n    client.ai.click("Products link")\n    client.ai.wait_for_visible("products page")\n\n    # Use breadcrumbs\n    client.ai.click("Home breadcrumb")\n    client.ai.wait_for_visible("home page")\n'})}),"\n",(0,s.jsx)(n.h2,{id:"fuzzy-matching-examples",children:"Fuzzy Matching Examples"}),"\n",(0,s.jsx)(n.p,{children:"The AI client uses fuzzy matching to find elements even with imprecise descriptions:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Exact match\nclient.ai.click("Submit")  # matches data-ui-aliases="submit"\n\n# Partial match\nclient.ai.click("Submit button")  # adds "button" context\n\n# Synonym match\nclient.ai.click("Login")  # matches alias "login" on Sign In button\n\n# Case insensitive\nclient.ai.click("SUBMIT")  # matches "submit"\n\n# With typos (if fuzzy threshold allows)\nclient.ai.click("Submti")  # might match "Submit" with lower confidence\n\n# Descriptive\nclient.ai.click("the blue submit button at the bottom")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"controlling-fuzzy-matching",children:"Controlling Fuzzy Matching"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Strict matching (exact only)\nelement = client.ai.find("Submit", fuzzy=False)\n\n# With confidence threshold\nresult = client.ai.execute("click Submit", confidence_threshold=0.9)\n\n# Search with fuzzy threshold\nresults = client.ai.search(text="Submit", fuzzy_threshold=0.8)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"1-use-descriptive-text",children:"1. Use Descriptive Text"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Good: specific description\nclient.ai.click("Submit Order button")\n\n# Less good: too generic\nclient.ai.click("button")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-verify-before-acting",children:"2. Verify Before Acting"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Verify element exists before complex interactions\nclient.ai.assert_visible("checkout form")\nclient.ai.type_text("card number", "4111111111111111")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"3-use-timeouts-for-dynamic-content",children:"3. Use Timeouts for Dynamic Content"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Wait for element after async operation\nclient.ai.click("load more button")\nclient.ai.wait_for_visible("additional items", timeout=5000)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"4-handle-failures-gracefully",children:"4. Handle Failures Gracefully"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'result = client.ai.execute("click the thing")\nif not result.success:\n    # Log context\n    print(f"Failed: {result.error}")\n    print(f"Alternatives: {result.alternatives}")\n\n    # Try recovery\n    snapshot = client.ai.snapshot()\n    print(f"Page state: {snapshot.summary}")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"5-use-batch-assertions",children:"5. Use Batch Assertions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# More efficient than individual assertions\nresult = client.ai.assert_batch([\n    ("form", "visible"),\n    ("email", "enabled"),\n    ("password", "enabled"),\n    ("submit", "enabled"),\n], stop_on_failure=True)\n\nif not result.passed:\n    for r in result.results:\n        if not r.passed:\n            print(f"Failed: {r.target_description}")\n'})}),"\n",(0,s.jsx)(n.h2,{id:"integration-with-test-frameworks",children:"Integration with Test Frameworks"}),"\n",(0,s.jsx)(n.h3,{id:"pytest",children:"pytest"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import pytest\nfrom ui_bridge import UIBridgeClient\n\n@pytest.fixture\ndef client():\n    return UIBridgeClient(\'http://localhost:9876\')\n\ndef test_login(client):\n    client.ai.type_text("email", "test@example.com")\n    client.ai.type_text("password", "secret")\n    client.ai.click("sign in")\n    assert client.ai.assert_visible("dashboard").passed\n'})}),"\n",(0,s.jsx)(n.h3,{id:"unittest",children:"unittest"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import unittest\nfrom ui_bridge import UIBridgeClient\n\nclass LoginTests(unittest.TestCase):\n    def setUp(self):\n        self.client = UIBridgeClient(\'http://localhost:9876\')\n\n    def test_valid_login(self):\n        self.client.ai.type_text("email", "test@example.com")\n        self.client.ai.type_text("password", "secret")\n        self.client.ai.click("sign in")\n        result = self.client.ai.assert_visible("dashboard")\n        self.assertTrue(result.passed)\n'})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>l,x:()=>r});var t=i(6540);const s={},a=t.createContext(s);function l(e){const n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);