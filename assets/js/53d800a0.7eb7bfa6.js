"use strict";(globalThis.webpackChunkui_bridge_docs=globalThis.webpackChunkui_bridge_docs||[]).push([[6876],{2602(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"react/hooks","title":"React Hooks","description":"UI Bridge provides React hooks for registering and controlling UI elements.","source":"@site/docs/react/hooks.md","sourceDirName":"react","slug":"/react/hooks","permalink":"/ui-bridge/docs/react/hooks","draft":false,"unlisted":false,"editUrl":"https://github.com/qontinui/ui-bridge/tree/main/docs-site/docs/react/hooks.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"UIBridgeProvider","permalink":"/ui-bridge/docs/react/provider"},"next":{"title":"React Components","permalink":"/ui-bridge/docs/react/components"}}');var s=t(4848),a=t(8453);const o={sidebar_position:2},r="React Hooks",l={},c=[{value:"useUIElement",id:"useuielement",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"Options",id:"options",level:3},{value:"Return Value",id:"return-value",level:3},{value:"Examples",id:"examples",level:3},{value:"Input Element",id:"input-element",level:4},{value:"Select Element",id:"select-element",level:4},{value:"Custom Actions",id:"custom-actions",level:4},{value:"useUIComponent",id:"useuicomponent",level:2},{value:"Basic Usage",id:"basic-usage-1",level:3},{value:"Options",id:"options-1",level:3},{value:"Action Handler",id:"action-handler",level:3},{value:"useUIBridge",id:"useuibridge",level:2},{value:"Return Value",id:"return-value-1",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Always Add data-ui-id",id:"1-always-add-data-ui-id",level:3},{value:"2. Use Descriptive IDs",id:"2-use-descriptive-ids",level:3},{value:"3. Clean Up on Unmount",id:"3-clean-up-on-unmount",level:3},{value:"4. Type Your Action Parameters",id:"4-type-your-action-parameters",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"react-hooks",children:"React Hooks"})}),"\n",(0,s.jsx)(n.p,{children:"UI Bridge provides React hooks for registering and controlling UI elements."}),"\n",(0,s.jsx)(n.h2,{id:"useuielement",children:"useUIElement"}),"\n",(0,s.jsx)(n.p,{children:"Register an element for programmatic control."}),"\n",(0,s.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { useUIElement } from 'ui-bridge';\n\nfunction Button() {\n  const control = useUIElement({\n    id: 'submit-button',\n    type: 'button',\n  });\n\n  return (\n    <button ref={control.ref} data-ui-id=\"submit-button\">\n      Submit\n    </button>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"options",children:"Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"const control = useUIElement({\n  id: 'my-element',           // Required: Unique identifier\n  type: 'button',             // Optional: Element type (auto-detected)\n  label: 'Submit Button',     // Optional: Human-readable label\n  actions: ['click', 'focus'], // Optional: Override available actions\n  customActions: {            // Optional: Custom action handlers\n    highlight: async () => {\n      // Custom logic\n    },\n  },\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"return-value",children:"Return Value"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface UseUIElementReturn {\n  ref: RefObject<HTMLElement>;  // Ref to attach to element\n  trigger: (action: string, params?: any) => Promise<any>;  // Trigger action\n  getState: () => ElementState; // Get current state\n  getIdentifier: () => ElementIdentifier; // Get identifiers\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,s.jsx)(n.h4,{id:"input-element",children:"Input Element"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"function EmailInput() {\n  const [email, setEmail] = useState('');\n\n  const control = useUIElement({\n    id: 'email-input',\n    type: 'input',\n    label: 'Email Address',\n  });\n\n  return (\n    <input\n      ref={control.ref}\n      data-ui-id=\"email-input\"\n      type=\"email\"\n      value={email}\n      onChange={(e) => setEmail(e.target.value)}\n    />\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h4,{id:"select-element",children:"Select Element"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'function CountrySelect() {\n  const control = useUIElement({\n    id: \'country-select\',\n    type: \'select\',\n  });\n\n  return (\n    <select ref={control.ref} data-ui-id="country-select">\n      <option value="US">United States</option>\n      <option value="UK">United Kingdom</option>\n      <option value="CA">Canada</option>\n    </select>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.h4,{id:"custom-actions",children:"Custom Actions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"function ColorPicker() {\n  const [color, setColor] = useState('#000000');\n\n  const control = useUIElement({\n    id: 'color-picker',\n    type: 'custom',\n    customActions: {\n      setColor: async (params) => {\n        setColor(params.color);\n        return { success: true, color: params.color };\n      },\n      getColor: async () => {\n        return { color };\n      },\n    },\n  });\n\n  return (\n    <div ref={control.ref} data-ui-id=\"color-picker\">\n      <input type=\"color\" value={color} onChange={(e) => setColor(e.target.value)} />\n    </div>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"useuicomponent",children:"useUIComponent"}),"\n",(0,s.jsx)(n.p,{children:"Register a component with high-level actions."}),"\n",(0,s.jsx)(n.h3,{id:"basic-usage-1",children:"Basic Usage"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { useUIComponent } from 'ui-bridge';\n\nfunction LoginForm() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  useUIComponent({\n    id: 'login-form',\n    name: 'Login Form',\n    actions: [\n      {\n        id: 'login',\n        label: 'Login',\n        handler: async (params) => {\n          const { email, password } = params;\n          return await authenticateUser(email, password);\n        },\n      },\n      {\n        id: 'reset',\n        label: 'Reset Form',\n        handler: async () => {\n          setEmail('');\n          setPassword('');\n        },\n      },\n    ],\n  });\n\n  return (\n    <form>\n      <input value={email} onChange={(e) => setEmail(e.target.value)} />\n      <input value={password} onChange={(e) => setPassword(e.target.value)} />\n      <button type=\"submit\">Login</button>\n    </form>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"options-1",children:"Options"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"useUIComponent({\n  id: 'my-component',        // Required: Unique identifier\n  name: 'My Component',      // Required: Display name\n  description: 'Description', // Optional: Description\n  actions: [                 // Required: Array of actions\n    {\n      id: 'action-id',\n      label: 'Action Label',\n      description: 'What it does',\n      handler: async (params) => { ... },\n    },\n  ],\n  elementIds: ['elem1', 'elem2'], // Optional: Related element IDs\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"action-handler",children:"Action Handler"}),"\n",(0,s.jsx)(n.p,{children:"Action handlers receive parameters and should return a result:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"{\n  id: 'submit',\n  handler: async (params) => {\n    // params contains values passed from the client\n    const { email, password } = params;\n\n    // Perform the action\n    const result = await doSomething(email, password);\n\n    // Return result (will be sent back to client)\n    return { success: true, userId: result.id };\n  },\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"useuibridge",children:"useUIBridge"}),"\n",(0,s.jsx)(n.p,{children:"Access the UI Bridge context."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { useUIBridge } from 'ui-bridge';\n\nfunction Dashboard() {\n  const bridge = useUIBridge();\n\n  // Get all registered elements\n  const elements = bridge.elements;\n\n  // Get all registered components\n  const components = bridge.components;\n\n  // Execute an action on an element\n  const handleClick = async () => {\n    await bridge.executeAction('submit-button', 'click');\n  };\n\n  // Capture a snapshot\n  const handleSnapshot = () => {\n    const snapshot = bridge.captureSnapshot();\n    console.log(snapshot);\n  };\n\n  return (\n    <div>\n      <p>Registered elements: {elements.length}</p>\n      <button onClick={handleClick}>Trigger Submit</button>\n      <button onClick={handleSnapshot}>Capture Snapshot</button>\n    </div>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"return-value-1",children:"Return Value"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface UseUIBridgeReturn {\n  elements: RegisteredElement[];     // All registered elements\n  components: RegisteredComponent[]; // All registered components\n  executeAction: (elementId: string, action: string, params?: any) => Promise<any>;\n  captureSnapshot: () => BridgeSnapshot;\n  registry: UIBridgeRegistry;        // Direct registry access\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsx)(n.h3,{id:"1-always-add-data-ui-id",children:"1. Always Add data-ui-id"}),"\n",(0,s.jsxs)(n.p,{children:["Even though UI Bridge can find elements by other attributes, explicitly adding ",(0,s.jsx)(n.code,{children:"data-ui-id"})," ensures reliable automation:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:'<button ref={control.ref} data-ui-id="my-button">\n  Click me\n</button>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-use-descriptive-ids",children:"2. Use Descriptive IDs"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"// Good\nuseUIElement({ id: 'checkout-submit-button' });\nuseUIComponent({ id: 'user-profile-form' });\n\n// Avoid\nuseUIElement({ id: 'btn1' });\nuseUIComponent({ id: 'form' });\n"})}),"\n",(0,s.jsx)(n.h3,{id:"3-clean-up-on-unmount",children:"3. Clean Up on Unmount"}),"\n",(0,s.jsx)(n.p,{children:"The hooks automatically unregister elements when the component unmounts. No manual cleanup needed."}),"\n",(0,s.jsx)(n.h3,{id:"4-type-your-action-parameters",children:"4. Type Your Action Parameters"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"interface LoginParams {\n  email: string;\n  password: string;\n}\n\nuseUIComponent({\n  id: 'login-form',\n  actions: [\n    {\n      id: 'login',\n      handler: async (params: LoginParams) => {\n        // TypeScript knows params shape\n        return await login(params.email, params.password);\n      },\n    },\n  ],\n});\n"})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>o,x:()=>r});var i=t(6540);const s={},a=i.createContext(s);function o(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);