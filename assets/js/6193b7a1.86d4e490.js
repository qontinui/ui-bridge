"use strict";(globalThis.webpackChunkui_bridge_docs=globalThis.webpackChunkui_bridge_docs||[]).push([[6575],{8453(e,r,t){t.d(r,{R:()=>o,x:()=>a});var n=t(6540);const i={},s=n.createContext(i);function o(e){const r=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(s.Provider,{value:r},e.children)}},9703(e,r,t){t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>a,default:()=>g,frontMatter:()=>o,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"recovery/failure-recovery-strategies","title":"Failure Recovery Strategies","description":"UI Bridge provides automated recovery strategies to handle common failure scenarios. Instead of failing immediately, the system can attempt intelligent recovery.","source":"@site/docs/recovery/failure-recovery-strategies.md","sourceDirName":"recovery","slug":"/recovery/failure-recovery-strategies","permalink":"/ui-bridge/docs/recovery/failure-recovery-strategies","draft":false,"unlisted":false,"editUrl":"https://github.com/qontinui/ui-bridge/tree/main/docs-site/docs/recovery/failure-recovery-strategies.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Structured Failure Feedback","permalink":"/ui-bridge/docs/recovery/structured-failure-feedback"},"next":{"title":"State Machine Integration","permalink":"/ui-bridge/docs/state/state-machine-integration"}}');var i=t(4848),s=t(8453);const o={},a="Failure Recovery Strategies",c={},l=[{value:"Overview",id:"overview",level:2},{value:"Built-in Strategies",id:"built-in-strategies",level:2},{value:"1. Wait and Retry",id:"1-wait-and-retry",level:3},{value:"2. Scroll Into View",id:"2-scroll-into-view",level:3},{value:"3. Close Overlays",id:"3-close-overlays",level:3},{value:"4. Refresh Registry",id:"4-refresh-registry",level:3},{value:"5. Wait for Navigation",id:"5-wait-for-navigation",level:3},{value:"6. Alternative Element",id:"6-alternative-element",level:3},{value:"Strategy Configuration",id:"strategy-configuration",level:2},{value:"Global Configuration",id:"global-configuration",level:3},{value:"Per-Action Configuration",id:"per-action-configuration",level:3},{value:"Error-Specific Strategies",id:"error-specific-strategies",level:3},{value:"Strategy Priority",id:"strategy-priority",level:2},{value:"Custom Strategies",id:"custom-strategies",level:2},{value:"Strategy Context",id:"strategy-context",level:3},{value:"Recovery Events",id:"recovery-events",level:2},{value:"Recovery Report",id:"recovery-report",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Disabling Recovery",id:"disabling-recovery",level:2}];function d(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"failure-recovery-strategies",children:"Failure Recovery Strategies"})}),"\n",(0,i.jsx)(r.p,{children:"UI Bridge provides automated recovery strategies to handle common failure scenarios. Instead of failing immediately, the system can attempt intelligent recovery."}),"\n",(0,i.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(r.p,{children:"Recovery strategies automatically handle:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Transient failures (timing, network)"}),"\n",(0,i.jsx)(r.li,{children:"UI state issues (overlays, loading)"}),"\n",(0,i.jsx)(r.li,{children:"Element reference problems (stale, moved)"}),"\n",(0,i.jsx)(r.li,{children:"Navigation failures"}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"built-in-strategies",children:"Built-in Strategies"}),"\n",(0,i.jsx)(r.p,{children:"UI Bridge includes 6 built-in recovery strategies:"}),"\n",(0,i.jsx)(r.h3,{id:"1-wait-and-retry",children:"1. Wait and Retry"}),"\n",(0,i.jsx)(r.p,{children:"Wait for a condition then retry the action:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"{\n  strategy: 'wait-retry',\n  config: {\n    maxWait: 5000,\n    pollInterval: 100,\n    condition: 'visible',\n  }\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"2-scroll-into-view",children:"2. Scroll Into View"}),"\n",(0,i.jsx)(r.p,{children:"Scroll the element into the viewport:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"{\n  strategy: 'scroll-into-view',\n  config: {\n    behavior: 'smooth',\n    block: 'center',\n    timeout: 2000,\n  }\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"3-close-overlays",children:"3. Close Overlays"}),"\n",(0,i.jsx)(r.p,{children:"Dismiss modals, popups, or overlays covering the element:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"{\n  strategy: 'close-overlays',\n  config: {\n    selectors: ['.modal', '.popup', '.overlay', '[role=\"dialog\"]'],\n    closeMethod: 'click-outside',  // or 'escape-key', 'close-button'\n  }\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"4-refresh-registry",children:"4. Refresh Registry"}),"\n",(0,i.jsx)(r.p,{children:"Re-scan the DOM and update element references:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"{\n  strategy: 'refresh-registry',\n  config: {\n    scope: 'all',  // or 'subtree' for partial refresh\n    timeout: 3000,\n  }\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"5-wait-for-navigation",children:"5. Wait for Navigation"}),"\n",(0,i.jsx)(r.p,{children:"Wait for page navigation to complete:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"{\n  strategy: 'wait-navigation',\n  config: {\n    timeout: 10000,\n    waitUntil: 'networkidle',  // or 'load', 'domcontentloaded'\n  }\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"6-alternative-element",children:"6. Alternative Element"}),"\n",(0,i.jsx)(r.p,{children:"Try an alternative element if primary fails:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"{\n  strategy: 'alternative-element',\n  config: {\n    alternatives: ['submit-btn-2', 'form-submit', '[type=\"submit\"]'],\n    matchBy: 'id',  // or 'selector', 'text'\n  }\n}\n"})}),"\n",(0,i.jsx)(r.h2,{id:"strategy-configuration",children:"Strategy Configuration"}),"\n",(0,i.jsx)(r.h3,{id:"global-configuration",children:"Global Configuration"}),"\n",(0,i.jsx)(r.p,{children:"Set default strategies for all actions:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"import { configureRecovery } from '@anthropic/ui-bridge';\n\nconfigureRecovery({\n  enabled: true,\n  maxAttempts: 3,\n  strategies: [\n    { strategy: 'wait-retry', priority: 1 },\n    { strategy: 'scroll-into-view', priority: 2 },\n    { strategy: 'close-overlays', priority: 3 },\n    { strategy: 'refresh-registry', priority: 4 },\n  ],\n});\n"})}),"\n",(0,i.jsx)(r.h3,{id:"per-action-configuration",children:"Per-Action Configuration"}),"\n",(0,i.jsx)(r.p,{children:"Override for specific actions:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"await executeAction('submit-btn', 'click', {\n  recovery: {\n    strategies: ['wait-retry', 'scroll-into-view'],\n    maxAttempts: 5,\n    timeout: 10000,\n  },\n});\n"})}),"\n",(0,i.jsx)(r.h3,{id:"error-specific-strategies",children:"Error-Specific Strategies"}),"\n",(0,i.jsx)(r.p,{children:"Map strategies to error codes:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"configureRecovery({\n  errorStrategies: {\n    ELEMENT_NOT_VISIBLE: ['scroll-into-view', 'wait-retry'],\n    ELEMENT_OBSCURED: ['close-overlays', 'scroll-into-view'],\n    STALE_ELEMENT: ['refresh-registry', 'wait-retry'],\n    TIMEOUT: ['wait-retry'],\n  },\n});\n"})}),"\n",(0,i.jsx)(r.h2,{id:"strategy-priority",children:"Strategy Priority"}),"\n",(0,i.jsx)(r.p,{children:"Strategies are executed by priority (lower = higher priority):"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"configureRecovery({\n  strategies: [\n    { strategy: 'wait-retry', priority: 1 },        // Try first\n    { strategy: 'scroll-into-view', priority: 2 },  // Try second\n    { strategy: 'close-overlays', priority: 3 },    // Try third\n  ],\n});\n"})}),"\n",(0,i.jsx)(r.h2,{id:"custom-strategies",children:"Custom Strategies"}),"\n",(0,i.jsx)(r.p,{children:"Define your own recovery strategies:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"import { registerStrategy } from '@anthropic/ui-bridge';\n\nregisterStrategy({\n  name: 'dismiss-cookies',\n  description: 'Dismiss cookie consent banner',\n  async execute(context) {\n    const banner = document.querySelector('.cookie-banner');\n    if (banner) {\n      const acceptBtn = banner.querySelector('.accept');\n      if (acceptBtn) {\n        acceptBtn.click();\n        await waitFor(() => !document.querySelector('.cookie-banner'));\n        return { success: true };\n      }\n    }\n    return { success: false, reason: 'No cookie banner found' };\n  },\n});\n"})}),"\n",(0,i.jsx)(r.h3,{id:"strategy-context",children:"Strategy Context"}),"\n",(0,i.jsx)(r.p,{children:"Custom strategies receive context:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"interface StrategyContext {\n  error: UIBridgeError;\n  elementId: string;\n  action: string;\n  attempt: number;\n  registry: UIBridgeRegistry;\n}\n"})}),"\n",(0,i.jsx)(r.h2,{id:"recovery-events",children:"Recovery Events"}),"\n",(0,i.jsx)(r.p,{children:"Monitor recovery attempts:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"import { onRecovery } from '@anthropic/ui-bridge';\n\nonRecovery('attempt', (event) => {\n  console.log(`Recovery attempt ${event.attempt} using ${event.strategy}`);\n});\n\nonRecovery('success', (event) => {\n  console.log(`Recovery succeeded with ${event.strategy}`);\n});\n\nonRecovery('failure', (event) => {\n  console.log(`All recovery attempts failed`);\n});\n"})}),"\n",(0,i.jsx)(r.h2,{id:"recovery-report",children:"Recovery Report"}),"\n",(0,i.jsx)(r.p,{children:"Get detailed recovery information:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"const result = await executeAction('submit-btn', 'click');\n\nif (result.recovered) {\n  console.log(result.recoveryReport);\n  // {\n  //   attempts: 3,\n  //   strategiesUsed: ['wait-retry', 'scroll-into-view'],\n  //   successfulStrategy: 'scroll-into-view',\n  //   totalTime: 2340,\n  // }\n}\n"})}),"\n",(0,i.jsx)(r.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Order by Likelihood"})," - Put most likely to succeed strategies first"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Set Reasonable Timeouts"})," - Balance between recovery and fast failure"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Log Recovery Attempts"})," - Track which strategies work in your app"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Don't Over-Recover"})," - Some failures should fail immediately"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Test Strategies"})," - Verify strategies work in your specific UI"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"disabling-recovery",children:"Disabling Recovery"}),"\n",(0,i.jsx)(r.p,{children:"For debugging or testing:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"// Disable globally\nconfigureRecovery({ enabled: false });\n\n// Disable per-action\nawait executeAction('submit-btn', 'click', {\n  recovery: { enabled: false },\n});\n"})})]})}function g(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);