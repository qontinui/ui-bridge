"use strict";(globalThis.webpackChunkui_bridge_docs=globalThis.webpackChunkui_bridge_docs||[]).push([[8979],{8453(e,n,t){t.d(n,{R:()=>a,x:()=>o});var i=t(6540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}},8459(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"ai/visual-context","title":"Visual Context","description":"Visual Context generates AI-friendly descriptions of the current UI state, enabling LLMs to understand and reason about the interface.","source":"@site/docs/ai/visual-context.md","sourceDirName":"ai","slug":"/ai/visual-context","permalink":"/ui-bridge/docs/ai/visual-context","draft":false,"unlisted":false,"editUrl":"https://github.com/qontinui/ui-bridge/tree/main/docs-site/docs/ai/visual-context.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Embedding Resolution","permalink":"/ui-bridge/docs/ai/embedding-resolution"},"next":{"title":"Navigation Assistance","permalink":"/ui-bridge/docs/ai/navigation-assistance"}}');var s=t(4848),r=t(8453);const a={},o="Visual Context",l={},c=[{value:"Overview",id:"overview",level:2},{value:"Usage",id:"usage",level:2},{value:"Generate Context",id:"generate-context",level:3},{value:"Context Structure",id:"context-structure",level:3},{value:"For LLM Prompts",id:"for-llm-prompts",level:3},{value:"Selective Context",id:"selective-context",level:3},{value:"Semantic Snapshots",id:"semantic-snapshots",level:2},{value:"Page Summary",id:"page-summary",level:2},{value:"Integration with AI Agents",id:"integration-with-ai-agents",level:2},{value:"With Intent Executor",id:"with-intent-executor",level:3},{value:"With Custom AI",id:"with-custom-ai",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Best Practices",id:"best-practices",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"visual-context",children:"Visual Context"})}),"\n",(0,s.jsx)(n.p,{children:"Visual Context generates AI-friendly descriptions of the current UI state, enabling LLMs to understand and reason about the interface."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Visual Context provides:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Structured descriptions of all visible elements"}),"\n",(0,s.jsx)(n.li,{children:"Spatial relationships between elements"}),"\n",(0,s.jsx)(n.li,{children:"Current state and values"}),"\n",(0,s.jsx)(n.li,{children:"Interactive capabilities"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This context can be passed to AI models to enable intelligent UI automation."}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(n.h3,{id:"generate-context",children:"Generate Context"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { VisualContextGenerator } from '@anthropic/ui-bridge';\n\nconst generator = new VisualContextGenerator(registry);\nconst context = await generator.generate();\n\nconsole.log(context);\n// {\n//   page: { title: 'Login', url: '/login' },\n//   elements: [...],\n//   focusedElement: 'email-input',\n//   forms: [...],\n// }\n"})}),"\n",(0,s.jsx)(n.h3,{id:"context-structure",children:"Context Structure"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface VisualContext {\n  page: {\n    title: string;\n    url: string;\n    description?: string;\n  };\n  elements: ElementContext[];\n  focusedElement?: string;\n  forms: FormContext[];\n  landmarks: LandmarkContext[];\n  timestamp: number;\n}\n\ninterface ElementContext {\n  id: string;\n  type: string;\n  role: string;\n  text: string;\n  visible: boolean;\n  enabled: boolean;\n  position: { x: number; y: number; width: number; height: number };\n  actions: string[];\n  value?: string;\n  checked?: boolean;\n  selected?: boolean;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"for-llm-prompts",children:"For LLM Prompts"}),"\n",(0,s.jsx)(n.p,{children:"Generate a text description suitable for LLM prompts:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const textContext = await generator.generateText();\n\nconsole.log(textContext);\n// Page: Login (/login)\n//\n// Visible Elements:\n// - [input] Email field (id: email-input) - empty text input\n// - [input] Password field (id: password-input) - empty password input\n// - [button] Sign In (id: signin-btn) - clickable button\n// - [link] Forgot Password (id: forgot-link) - navigates to /forgot-password\n"})}),"\n",(0,s.jsx)(n.h3,{id:"selective-context",children:"Selective Context"}),"\n",(0,s.jsx)(n.p,{children:"Generate context for specific areas:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Only form elements\nconst formContext = await generator.generate({\n  filter: { type: ['input', 'select', 'textarea', 'button'] },\n});\n\n// Only visible elements\nconst visibleContext = await generator.generate({\n  filter: { visible: true },\n});\n\n// Specific region\nconst headerContext = await generator.generate({\n  region: { selector: 'header' },\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"semantic-snapshots",children:"Semantic Snapshots"}),"\n",(0,s.jsx)(n.p,{children:"For AI agents, generate a semantic snapshot:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'const snapshot = await generator.getSemanticSnapshot();\n\n// Returns structured data optimized for AI understanding\n{\n  summary: "Login page with email/password form",\n  primaryAction: "Sign in with credentials",\n  elements: {\n    inputs: [\n      { id: "email", purpose: "Email address entry", required: true },\n      { id: "password", purpose: "Password entry", required: true }\n    ],\n    buttons: [\n      { id: "signin", purpose: "Submit login form", primary: true }\n    ],\n    links: [\n      { id: "forgot", purpose: "Password recovery", destination: "/forgot" }\n    ]\n  },\n  suggestedFlow: ["Enter email", "Enter password", "Click sign in"]\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"page-summary",children:"Page Summary"}),"\n",(0,s.jsx)(n.p,{children:"Get a concise page summary:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'const summary = await generator.getPageSummary();\n\nconsole.log(summary);\n// {\n//   title: "Login",\n//   purpose: "User authentication",\n//   mainContent: "Login form with email and password fields",\n//   availableActions: ["Sign in", "Navigate to forgot password", "Navigate to register"],\n//   currentState: "Form empty, ready for input"\n// }\n'})}),"\n",(0,s.jsx)(n.h2,{id:"integration-with-ai-agents",children:"Integration with AI Agents"}),"\n",(0,s.jsx)(n.h3,{id:"with-intent-executor",children:"With Intent Executor"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const context = await generator.generate();\nconst result = await intentExecutor.execute('sign in', { context });\n"})}),"\n",(0,s.jsx)(n.h3,{id:"with-custom-ai",children:"With Custom AI"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"async function aiAutomation(instruction: string) {\n  const context = await generator.generateText();\n\n  const response = await ai.complete({\n    prompt: `\n      Current UI State:\n      ${context}\n\n      User instruction: ${instruction}\n\n      What action should be taken?\n    `,\n  });\n\n  return parseAIResponse(response);\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const generator = new VisualContextGenerator(registry, {\n  includeHidden: false,      // Exclude hidden elements\n  includePositions: true,    // Include x,y coordinates\n  includeBoundingBoxes: true, // Include width/height\n  maxElements: 100,          // Limit for large pages\n  textFormat: 'markdown',    // Output format for text\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Limit Scope"})," - Filter to relevant elements for focused contexts"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cache When Possible"})," - Reuse context if UI hasn't changed"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use Semantic Snapshots"})," - Prefer semantic format for AI agents"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Include Positions"})," - Spatial context helps with ambiguity"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Update on Change"})," - Regenerate after significant UI updates"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);