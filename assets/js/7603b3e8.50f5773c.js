"use strict";(globalThis.webpackChunkui_bridge_docs=globalThis.webpackChunkui_bridge_docs||[]).push([[8041],{4780(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"ai/embedding-resolution","title":"Embedding Resolution","description":"Embedding resolution enables semantic search for UI elements using vector embeddings. Find elements by meaning rather than exact text matches.","source":"@site/docs/ai/embedding-resolution.md","sourceDirName":"ai","slug":"/ai/embedding-resolution","permalink":"/ui-bridge/docs/ai/embedding-resolution","draft":false,"unlisted":false,"editUrl":"https://github.com/qontinui/ui-bridge/tree/main/docs-site/docs/ai/embedding-resolution.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Intent-Based Actions","permalink":"/ui-bridge/docs/ai/intent-based-actions"},"next":{"title":"Visual Context","permalink":"/ui-bridge/docs/ai/visual-context"}}');var r=i(4848),t=i(8453);const d={},l="Embedding Resolution",c={},o=[{value:"Overview",id:"overview",level:2},{value:"How It Works",id:"how-it-works",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Search",id:"basic-search",level:3},{value:"With Filters",id:"with-filters",level:3},{value:"Threshold-Based Matching",id:"threshold-based-matching",level:3},{value:"Embedding Models",id:"embedding-models",level:2},{value:"Built-in Model",id:"built-in-model",level:3},{value:"Custom Models",id:"custom-models",level:3},{value:"Pre-computed Embeddings",id:"pre-computed-embeddings",level:3},{value:"Element Text Sources",id:"element-text-sources",level:2},{value:"API Reference",id:"api-reference",level:2},{value:"EmbeddingResolver",id:"embeddingresolver",level:3},{value:"FindSimilarOptions",id:"findsimilaroptions",level:3},{value:"SimilarityResult",id:"similarityresult",level:3},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"Best Practices",id:"best-practices",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"embedding-resolution",children:"Embedding Resolution"})}),"\n",(0,r.jsx)(n.p,{children:"Embedding resolution enables semantic search for UI elements using vector embeddings. Find elements by meaning rather than exact text matches."}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"Traditional element lookup requires exact matches:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Only finds exact text match\nregistry.findByText('Submit Order');\n"})}),"\n",(0,r.jsx)(n.p,{children:"With embedding resolution, you can find semantically similar elements:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'// Finds "Submit Order", "Place Order", "Complete Purchase", etc.\nconst elements = await resolver.findSimilar(\'confirm my purchase\');\n'})}),"\n",(0,r.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Indexing"})," - Element text, labels, and attributes are converted to vector embeddings"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Query"})," - Your search query is converted to an embedding"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Similarity"})," - Cosine similarity finds the closest matches"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Ranking"})," - Results are ranked by relevance score"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.h3,{id:"basic-search",children:"Basic Search"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"import { EmbeddingResolver } from '@anthropic/ui-bridge';\n\nconst resolver = new EmbeddingResolver(registry);\n\n// Find semantically similar elements\nconst results = await resolver.findSimilar('login button');\n\n// Returns ranked results\nresults.forEach(({ element, score }) => {\n  console.log(`${element.id}: ${score}`);\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"with-filters",children:"With Filters"}),"\n",(0,r.jsx)(n.p,{children:"Narrow down results by element type or attributes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const results = await resolver.findSimilar('email field', {\n  type: 'input',\n  role: 'textbox',\n  limit: 5,\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"threshold-based-matching",children:"Threshold-Based Matching"}),"\n",(0,r.jsx)(n.p,{children:"Only return results above a confidence threshold:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const results = await resolver.findSimilar('shopping cart', {\n  threshold: 0.75,  // Only results with 75%+ similarity\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"embedding-models",children:"Embedding Models"}),"\n",(0,r.jsx)(n.h3,{id:"built-in-model",children:"Built-in Model"}),"\n",(0,r.jsx)(n.p,{children:"UI Bridge includes a lightweight embedding model suitable for most use cases:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const resolver = new EmbeddingResolver(registry, {\n  model: 'default',\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"custom-models",children:"Custom Models"}),"\n",(0,r.jsx)(n.p,{children:"Use your own embedding model for specialized vocabularies:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"const resolver = new EmbeddingResolver(registry, {\n  model: 'custom',\n  embedFunction: async (text: string) => {\n    // Call your embedding API\n    const response = await fetch('/api/embed', {\n      method: 'POST',\n      body: JSON.stringify({ text }),\n    });\n    return response.json();  // Returns number[]\n  },\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"pre-computed-embeddings",children:"Pre-computed Embeddings"}),"\n",(0,r.jsx)(n.p,{children:"For performance, pre-compute embeddings at build time:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// During build\nconst embeddings = await resolver.generateIndex();\nawait fs.writeFile('embeddings.json', JSON.stringify(embeddings));\n\n// At runtime\nconst cached = JSON.parse(await fs.readFile('embeddings.json'));\nconst resolver = new EmbeddingResolver(registry, {\n  precomputedIndex: cached,\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"element-text-sources",children:"Element Text Sources"}),"\n",(0,r.jsx)(n.p,{children:"Embeddings are generated from multiple text sources:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Source"}),(0,r.jsx)(n.th,{children:"Weight"}),(0,r.jsx)(n.th,{children:"Example"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"innerText"})}),(0,r.jsx)(n.td,{children:"1.0"}),(0,r.jsx)(n.td,{children:'"Submit Order"'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"aria-label"})}),(0,r.jsx)(n.td,{children:"0.9"}),(0,r.jsx)(n.td,{children:'"Place your order"'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"placeholder"})}),(0,r.jsx)(n.td,{children:"0.8"}),(0,r.jsx)(n.td,{children:'"Enter email address"'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"title"})}),(0,r.jsx)(n.td,{children:"0.7"}),(0,r.jsx)(n.td,{children:'"Click to submit"'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"data-ui-aliases"})}),(0,r.jsx)(n.td,{children:"0.85"}),(0,r.jsx)(n.td,{children:'"submit,confirm,order"'})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Weights affect the final similarity score."}),"\n",(0,r.jsx)(n.h2,{id:"api-reference",children:"API Reference"}),"\n",(0,r.jsx)(n.h3,{id:"embeddingresolver",children:"EmbeddingResolver"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"class EmbeddingResolver {\n  constructor(\n    registry: UIBridgeRegistry,\n    options?: EmbeddingResolverOptions\n  );\n\n  findSimilar(\n    query: string,\n    options?: FindSimilarOptions\n  ): Promise<SimilarityResult[]>;\n\n  generateIndex(): Promise<EmbeddingIndex>;\n\n  updateIndex(elementId: string): Promise<void>;\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"findsimilaroptions",children:"FindSimilarOptions"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"interface FindSimilarOptions {\n  threshold?: number;    // Minimum similarity (0-1)\n  limit?: number;        // Max results to return\n  type?: string;         // Filter by element type\n  role?: string;         // Filter by ARIA role\n  visible?: boolean;     // Only visible elements\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"similarityresult",children:"SimilarityResult"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"interface SimilarityResult {\n  element: UIElement;\n  score: number;         // Similarity score (0-1)\n  matchedText: string;   // Text that matched\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Index Size"})," - Each element adds ~1KB to the index"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Query Time"})," - O(n) where n is number of indexed elements"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Memory"})," - Keep index in memory for fast lookups"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Updates"})," - Regenerate index when elements change significantly"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use Aliases"})," - Add ",(0,r.jsx)(n.code,{children:"data-ui-aliases"})," for important elements"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Descriptive Labels"})," - Write clear aria-labels and placeholders"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tune Threshold"})," - Start with 0.7 and adjust based on results"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Limit Results"})," - Use ",(0,r.jsx)(n.code,{children:"limit"})," to avoid processing too many matches"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cache Index"})," - Pre-compute for production deployments"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,n,i){i.d(n,{R:()=>d,x:()=>l});var s=i(6540);const r={},t=s.createContext(r);function d(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);