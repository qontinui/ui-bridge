"use strict";(globalThis.webpackChunkui_bridge_docs=globalThis.webpackChunkui_bridge_docs||[]).push([[5829],{2966(e,r,n){n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"recovery/structured-failure-feedback","title":"Structured Failure Feedback","description":"Structured Failure Feedback provides detailed, actionable error information when UI actions fail. Instead of generic error messages, you get specific error codes, context, and recovery suggestions.","source":"@site/docs/recovery/structured-failure-feedback.md","sourceDirName":"recovery","slug":"/recovery/structured-failure-feedback","permalink":"/ui-bridge/docs/recovery/structured-failure-feedback","draft":false,"unlisted":false,"editUrl":"https://github.com/qontinui/ui-bridge/tree/main/docs-site/docs/recovery/structured-failure-feedback.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Navigation Assistance","permalink":"/ui-bridge/docs/ai/navigation-assistance"},"next":{"title":"Failure Recovery Strategies","permalink":"/ui-bridge/docs/recovery/failure-recovery-strategies"}}');var i=n(4848),s=n(8453);const c={},o="Structured Failure Feedback",d={},l=[{value:"Overview",id:"overview",level:2},{value:"Error Codes",id:"error-codes",level:2},{value:"Usage",id:"usage",level:2},{value:"Basic Error Handling",id:"basic-error-handling",level:3},{value:"Error Context",id:"error-context",level:3},{value:"Recovery Suggestions",id:"recovery-suggestions",level:3},{value:"Automatic Recovery",id:"automatic-recovery",level:2},{value:"Error Reporting",id:"error-reporting",level:2},{value:"Structured Logging",id:"structured-logging",level:3},{value:"Error Aggregation",id:"error-aggregation",level:3},{value:"Custom Error Codes",id:"custom-error-codes",level:2},{value:"Error Handling Patterns",id:"error-handling-patterns",level:2},{value:"With Retry Logic",id:"with-retry-logic",level:3},{value:"With Fallback Actions",id:"with-fallback-actions",level:3},{value:"Best Practices",id:"best-practices",level:2}];function a(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"structured-failure-feedback",children:"Structured Failure Feedback"})}),"\n",(0,i.jsx)(r.p,{children:"Structured Failure Feedback provides detailed, actionable error information when UI actions fail. Instead of generic error messages, you get specific error codes, context, and recovery suggestions."}),"\n",(0,i.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(r.p,{children:"When an action fails, you receive:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Specific error code identifying the failure type"}),"\n",(0,i.jsx)(r.li,{children:"Contextual information about what went wrong"}),"\n",(0,i.jsx)(r.li,{children:"Recovery suggestions for automated retry"}),"\n",(0,i.jsx)(r.li,{children:"Debug information for troubleshooting"}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"error-codes",children:"Error Codes"}),"\n",(0,i.jsx)(r.p,{children:"UI Bridge defines 14 standard error codes:"}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Code"}),(0,i.jsx)(r.th,{children:"Description"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"ELEMENT_NOT_FOUND"})}),(0,i.jsx)(r.td,{children:"Target element doesn't exist in the registry"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"ELEMENT_NOT_VISIBLE"})}),(0,i.jsx)(r.td,{children:"Element exists but is hidden or off-screen"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"ELEMENT_DISABLED"})}),(0,i.jsx)(r.td,{children:"Element is disabled and cannot be interacted with"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"ELEMENT_OBSCURED"})}),(0,i.jsx)(r.td,{children:"Element is covered by another element"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"ACTION_NOT_SUPPORTED"})}),(0,i.jsx)(r.td,{children:"Element doesn't support the requested action"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"INVALID_VALUE"})}),(0,i.jsx)(r.td,{children:"Provided value is invalid for the element"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"TIMEOUT"})}),(0,i.jsx)(r.td,{children:"Action didn't complete within the time limit"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"STALE_ELEMENT"})}),(0,i.jsx)(r.td,{children:"Element reference is no longer valid"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"NAVIGATION_FAILED"})}),(0,i.jsx)(r.td,{children:"Page navigation didn't complete"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"FORM_VALIDATION_ERROR"})}),(0,i.jsx)(r.td,{children:"Form validation prevented submission"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"PERMISSION_DENIED"})}),(0,i.jsx)(r.td,{children:"Action requires elevated permissions"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"NETWORK_ERROR"})}),(0,i.jsx)(r.td,{children:"Network request failed"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"STATE_MISMATCH"})}),(0,i.jsx)(r.td,{children:"Current state doesn't match expected state"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"UNKNOWN_ERROR"})}),(0,i.jsx)(r.td,{children:"Unclassified error"})]})]})]}),"\n",(0,i.jsx)(r.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsx)(r.h3,{id:"basic-error-handling",children:"Basic Error Handling"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"import { executeAction, UIBridgeError } from '@anthropic/ui-bridge';\n\ntry {\n  await executeAction('submit-btn', 'click');\n} catch (error) {\n  if (error instanceof UIBridgeError) {\n    console.log(error.code);        // 'ELEMENT_NOT_VISIBLE'\n    console.log(error.message);     // 'Element submit-btn is not visible'\n    console.log(error.suggestions); // ['Scroll element into view', 'Wait for element to appear']\n    console.log(error.context);     // { elementId: 'submit-btn', visibility: 'hidden' }\n  }\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"error-context",children:"Error Context"}),"\n",(0,i.jsx)(r.p,{children:"Each error includes relevant context:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"interface ErrorContext {\n  elementId?: string;\n  action?: string;\n  expectedState?: any;\n  actualState?: any;\n  timestamp: number;\n  stackTrace?: string;\n  screenshot?: string;  // Base64 encoded\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"recovery-suggestions",children:"Recovery Suggestions"}),"\n",(0,i.jsx)(r.p,{children:"Errors include actionable suggestions:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"const error = await result.error;\n\nerror.suggestions.forEach(suggestion => {\n  console.log(suggestion);\n});\n// Output:\n// - 'Wait for element to become visible'\n// - 'Scroll the page to bring element into view'\n// - 'Check if element is inside a collapsed container'\n"})}),"\n",(0,i.jsx)(r.h2,{id:"automatic-recovery",children:"Automatic Recovery"}),"\n",(0,i.jsx)(r.p,{children:"Enable automatic recovery based on error feedback:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"import { ActionExecutor } from '@anthropic/ui-bridge';\n\nconst executor = new ActionExecutor(registry, {\n  autoRecover: true,\n  recoveryStrategies: {\n    ELEMENT_NOT_VISIBLE: ['scroll-into-view', 'wait-for-visible'],\n    ELEMENT_OBSCURED: ['close-overlays', 'scroll-into-view'],\n    STALE_ELEMENT: ['refresh-registry', 'retry'],\n  },\n});\n"})}),"\n",(0,i.jsx)(r.h2,{id:"error-reporting",children:"Error Reporting"}),"\n",(0,i.jsx)(r.h3,{id:"structured-logging",children:"Structured Logging"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"import { ErrorReporter } from '@anthropic/ui-bridge';\n\nconst reporter = new ErrorReporter({\n  onError: (error) => {\n    // Send to logging service\n    analytics.track('ui_bridge_error', {\n      code: error.code,\n      message: error.message,\n      context: error.context,\n    });\n  },\n});\n"})}),"\n",(0,i.jsx)(r.h3,{id:"error-aggregation",children:"Error Aggregation"}),"\n",(0,i.jsx)(r.p,{children:"Track error patterns:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"const stats = reporter.getStats();\n\nconsole.log(stats);\n// {\n//   totalErrors: 42,\n//   byCode: {\n//     ELEMENT_NOT_VISIBLE: 15,\n//     TIMEOUT: 12,\n//     ELEMENT_NOT_FOUND: 8,\n//   },\n//   recentErrors: [...],\n// }\n"})}),"\n",(0,i.jsx)(r.h2,{id:"custom-error-codes",children:"Custom Error Codes"}),"\n",(0,i.jsx)(r.p,{children:"Define domain-specific error codes:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"import { defineErrorCode } from '@anthropic/ui-bridge';\n\ndefineErrorCode({\n  code: 'PAYMENT_DECLINED',\n  message: 'Payment was declined by processor',\n  suggestions: [\n    'Verify card details are correct',\n    'Try a different payment method',\n    'Check if card has sufficient funds',\n  ],\n  recoverable: true,\n});\n"})}),"\n",(0,i.jsx)(r.h2,{id:"error-handling-patterns",children:"Error Handling Patterns"}),"\n",(0,i.jsx)(r.h3,{id:"with-retry-logic",children:"With Retry Logic"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"async function executeWithRetry(elementId: string, action: string, maxRetries = 3) {\n  let lastError;\n\n  for (let i = 0; i < maxRetries; i++) {\n    try {\n      return await executeAction(elementId, action);\n    } catch (error) {\n      lastError = error;\n\n      if (!error.recoverable) {\n        throw error;\n      }\n\n      await applyRecoverySuggestion(error.suggestions[0]);\n    }\n  }\n\n  throw lastError;\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"with-fallback-actions",children:"With Fallback Actions"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",children:"async function clickWithFallback(primaryId: string, fallbackId: string) {\n  try {\n    await executeAction(primaryId, 'click');\n  } catch (error) {\n    if (error.code === 'ELEMENT_NOT_FOUND') {\n      await executeAction(fallbackId, 'click');\n    } else {\n      throw error;\n    }\n  }\n}\n"})}),"\n",(0,i.jsx)(r.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Check Error Codes"})," - Use specific codes, not just error messages"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Log Context"})," - Include error context in logs for debugging"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Implement Recovery"})," - Use suggestions to implement automatic recovery"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Monitor Patterns"})," - Track error frequencies to identify issues"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Provide Feedback"})," - Surface errors to users in a helpful way"]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453(e,r,n){n.d(r,{R:()=>c,x:()=>o});var t=n(6540);const i={},s=t.createContext(i);function c(e){const r=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);