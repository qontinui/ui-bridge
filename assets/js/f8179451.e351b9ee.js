"use strict";(globalThis.webpackChunkui_bridge_docs=globalThis.webpackChunkui_bridge_docs||[]).push([[9616],{317(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>g,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"state/dynamic-state-discovery","title":"Dynamic State Discovery","description":"Dynamic State Discovery automatically learns and tracks application states without explicit configuration. The system observes UI changes and builds a state model over time.","source":"@site/docs/state/dynamic-state-discovery.md","sourceDirName":"state","slug":"/state/dynamic-state-discovery","permalink":"/ui-bridge/docs/state/dynamic-state-discovery","draft":false,"unlisted":false,"editUrl":"https://github.com/qontinui/ui-bridge/tree/main/docs-site/docs/state/dynamic-state-discovery.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"State Machine Integration","permalink":"/ui-bridge/docs/state/state-machine-integration"},"next":{"title":"Logging & Tracing","permalink":"/ui-bridge/docs/observability/logging"}}');var s=t(4848),a=t(8453);const r={},o="Dynamic State Discovery",c={},l=[{value:"Overview",id:"overview",level:2},{value:"Enabling Discovery",id:"enabling-discovery",level:2},{value:"Basic Setup",id:"basic-setup",level:3},{value:"With React Provider",id:"with-react-provider",level:3},{value:"Learning Modes",id:"learning-modes",level:2},{value:"Passive Learning",id:"passive-learning",level:3},{value:"Active Learning",id:"active-learning",level:3},{value:"State Signatures",id:"state-signatures",level:2},{value:"Custom Signature Components",id:"custom-signature-components",level:3},{value:"Discovered States",id:"discovered-states",level:2},{value:"List States",id:"list-states",level:3},{value:"State Details",id:"state-details",level:3},{value:"Discovered Transitions",id:"discovered-transitions",level:2},{value:"List Transitions",id:"list-transitions",level:3},{value:"Transition Details",id:"transition-details",level:3},{value:"Export and Import",id:"export-and-import",level:2},{value:"Export Discovered Model",id:"export-discovered-model",level:3},{value:"Import Model",id:"import-model",level:3},{value:"Convert to State Machine",id:"convert-to-state-machine",level:3},{value:"Discovery Events",id:"discovery-events",level:2},{value:"State Merging",id:"state-merging",level:2},{value:"State Naming",id:"state-naming",level:2},{value:"Auto-Generated Names",id:"auto-generated-names",level:3},{value:"Custom Names",id:"custom-names",level:3},{value:"Naming Rules",id:"naming-rules",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Best Practices",id:"best-practices",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"dynamic-state-discovery",children:"Dynamic State Discovery"})}),"\n",(0,s.jsx)(n.p,{children:"Dynamic State Discovery automatically learns and tracks application states without explicit configuration. The system observes UI changes and builds a state model over time."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Dynamic state discovery:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Automatically detects distinct UI states"}),"\n",(0,s.jsx)(n.li,{children:"Learns transitions between states"}),"\n",(0,s.jsx)(n.li,{children:"Identifies state indicators"}),"\n",(0,s.jsx)(n.li,{children:"Builds a navigable state graph"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"enabling-discovery",children:"Enabling Discovery"}),"\n",(0,s.jsx)(n.h3,{id:"basic-setup",children:"Basic Setup"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { StateDiscovery } from '@anthropic/ui-bridge';\n\nconst discovery = new StateDiscovery(registry, {\n  enabled: true,\n  learningMode: 'active',\n});\n\n// Start discovery\nawait discovery.start();\n"})}),"\n",(0,s.jsx)(n.h3,{id:"with-react-provider",children:"With React Provider"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"import { UIBridgeProvider } from '@anthropic/ui-bridge/react';\n\nfunction App() {\n  return (\n    <UIBridgeProvider\n      stateDiscovery={{\n        enabled: true,\n        learningMode: 'passive',\n      }}\n    >\n      {children}\n    </UIBridgeProvider>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"learning-modes",children:"Learning Modes"}),"\n",(0,s.jsx)(n.h3,{id:"passive-learning",children:"Passive Learning"}),"\n",(0,s.jsx)(n.p,{children:"Learns by observing user interactions:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const discovery = new StateDiscovery(registry, {\n  learningMode: 'passive',\n  // Only observe, don't take actions\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"active-learning",children:"Active Learning"}),"\n",(0,s.jsx)(n.p,{children:"Actively explores the UI to discover states:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const discovery = new StateDiscovery(registry, {\n  learningMode: 'active',\n  explorationStrategy: 'breadth-first',\n  maxExplorationDepth: 5,\n  excludePatterns: ['/admin/*', '/api/*'],\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"state-signatures",children:"State Signatures"}),"\n",(0,s.jsx)(n.p,{children:"States are identified by signatures:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"interface StateSignature {\n  url: string;\n  urlPattern?: RegExp;\n  domFingerprint: string;\n  visibleElements: string[];\n  forms: FormSignature[];\n  hash: string;\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"custom-signature-components",children:"Custom Signature Components"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"discovery.configure({\n  signatureComponents: {\n    url: true,\n    title: true,\n    mainContent: '.main-content',\n    forms: true,\n    customElements: ['#app-state', '.page-id'],\n  },\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"discovered-states",children:"Discovered States"}),"\n",(0,s.jsx)(n.h3,{id:"list-states",children:"List States"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const states = discovery.getDiscoveredStates();\n\nstates.forEach(state => {\n  console.log(`${state.id}: ${state.description}`);\n  console.log(`  URL: ${state.signature.url}`);\n  console.log(`  Elements: ${state.signature.visibleElements.length}`);\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"state-details",children:"State Details"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const state = discovery.getState('state-abc123');\n\nconsole.log(state);\n// {\n//   id: 'state-abc123',\n//   description: 'Login page',\n//   signature: {...},\n//   discoveredAt: '2024-01-15T10:30:00Z',\n//   visitCount: 42,\n//   transitions: ['state-def456', 'state-ghi789'],\n// }\n"})}),"\n",(0,s.jsx)(n.h2,{id:"discovered-transitions",children:"Discovered Transitions"}),"\n",(0,s.jsx)(n.h3,{id:"list-transitions",children:"List Transitions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const transitions = discovery.getDiscoveredTransitions();\n\ntransitions.forEach(t => {\n  console.log(`${t.from} -> ${t.to}`);\n  console.log(`  Action: ${t.action.type} on ${t.action.target}`);\n  console.log(`  Success rate: ${t.successRate}%`);\n});\n"})}),"\n",(0,s.jsx)(n.h3,{id:"transition-details",children:"Transition Details"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const transition = discovery.getTransition('state-abc123', 'state-def456');\n\nconsole.log(transition);\n// {\n//   from: 'state-abc123',\n//   to: 'state-def456',\n//   action: { type: 'click', target: '#login-btn' },\n//   successRate: 95,\n//   avgDuration: 1200,\n//   lastUsed: '2024-01-15T10:35:00Z',\n// }\n"})}),"\n",(0,s.jsx)(n.h2,{id:"export-and-import",children:"Export and Import"}),"\n",(0,s.jsx)(n.h3,{id:"export-discovered-model",children:"Export Discovered Model"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const model = discovery.export();\n\n// Save to file\nawait fs.writeFile('state-model.json', JSON.stringify(model, null, 2));\n"})}),"\n",(0,s.jsx)(n.h3,{id:"import-model",children:"Import Model"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const model = JSON.parse(await fs.readFile('state-model.json'));\ndiscovery.import(model);\n"})}),"\n",(0,s.jsx)(n.h3,{id:"convert-to-state-machine",children:"Convert to State Machine"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const stateMachine = discovery.toStateMachine();\n\n// Now use with StateMachine API\nawait stateMachine.navigateTo('checkout');\n"})}),"\n",(0,s.jsx)(n.h2,{id:"discovery-events",children:"Discovery Events"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"discovery.on('stateDiscovered', (state) => {\n  console.log(`New state discovered: ${state.id}`);\n});\n\ndiscovery.on('transitionDiscovered', (transition) => {\n  console.log(`New transition: ${transition.from} -> ${transition.to}`);\n});\n\ndiscovery.on('stateUpdated', (state) => {\n  console.log(`State updated: ${state.id}`);\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"state-merging",children:"State Merging"}),"\n",(0,s.jsx)(n.p,{children:"Similar states can be merged:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Configure similarity threshold\ndiscovery.configure({\n  mergeThreshold: 0.85,  // 85% similarity\n  autoMerge: true,\n});\n\n// Manual merge\ndiscovery.mergeStates('state-abc123', 'state-def456');\n"})}),"\n",(0,s.jsx)(n.h2,{id:"state-naming",children:"State Naming"}),"\n",(0,s.jsx)(n.h3,{id:"auto-generated-names",children:"Auto-Generated Names"}),"\n",(0,s.jsx)(n.p,{children:"States get automatic names based on URL and content:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'// Auto-generated: "login-page", "dashboard-main", "settings-profile"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"custom-names",children:"Custom Names"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"discovery.renameState('state-abc123', 'user-login');\n"})}),"\n",(0,s.jsx)(n.h3,{id:"naming-rules",children:"Naming Rules"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"discovery.configure({\n  namingRules: [\n    { pattern: /\\/login/, name: 'login' },\n    { pattern: /\\/dashboard/, name: 'dashboard' },\n    { selector: '#checkout-form', name: 'checkout' },\n  ],\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const discovery = new StateDiscovery(registry, {\n  enabled: true,\n  learningMode: 'passive',\n\n  // Signature configuration\n  signatureComponents: {\n    url: true,\n    title: true,\n    forms: true,\n  },\n\n  // Exploration settings (active mode)\n  exploration: {\n    maxDepth: 5,\n    maxStates: 100,\n    timeout: 300000,  // 5 minutes\n  },\n\n  // Merging\n  mergeThreshold: 0.85,\n  autoMerge: false,\n\n  // Persistence\n  persistTo: 'localStorage',\n  persistKey: 'ui-bridge-states',\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Start Passive"})," - Begin with passive learning to avoid unintended actions"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Set Exclusions"})," - Exclude admin, logout, and destructive pages from active exploration"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Review Merges"})," - Manually review auto-merged states for accuracy"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Export Regularly"})," - Save discovered models for reuse"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Name Important States"})," - Give meaningful names to frequently used states"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Validate Transitions"})," - Test discovered transitions before relying on them"]}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,n,t){t.d(n,{R:()=>r,x:()=>o});var i=t(6540);const s={},a=i.createContext(s);function r(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);